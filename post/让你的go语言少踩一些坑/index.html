<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>让你的go语言少踩一些坑 - Eleven</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Eleven" />
  <meta name="description" content="Go 是一门简单有趣的编程语言，与其他语言一样，在使用时不免会遇到很多坑，不过它们大多不是 Go 本身的设计缺陷。如果你刚从其他语言转到 Go，那这篇文" />

  <meta name="keywords" content="Eleven" />






<meta name="generator" content="Hugo 0.58.3" />


<link rel="canonical" href="http://veh47.github.io/post/%E8%AE%A9%E4%BD%A0%E7%9A%84go%E8%AF%AD%E8%A8%80%E5%B0%91%E8%B8%A9%E4%B8%80%E4%BA%9B%E5%9D%91/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.af20b78e95c84de86b00a0242a4a77bd2601700e1b250edf27537d957ac0041d.css" integrity="sha256-ryC3jpXITehrAKAkKkp3vSYBcA4bJQ7fJ1N9lXrABB0=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="让你的go语言少踩一些坑" />
<meta property="og:description" content="Go 是一门简单有趣的编程语言，与其他语言一样，在使用时不免会遇到很多坑，不过它们大多不是 Go 本身的设计缺陷。如果你刚从其他语言转到 Go，那这篇文" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://veh47.github.io/post/%E8%AE%A9%E4%BD%A0%E7%9A%84go%E8%AF%AD%E8%A8%80%E5%B0%91%E8%B8%A9%E4%B8%80%E4%BA%9B%E5%9D%91/" />
<meta property="article:published_time" content="2020-04-05T13:35:03+08:00" />
<meta property="article:modified_time" content="2020-04-05T13:35:03+08:00" />
<meta itemprop="name" content="让你的go语言少踩一些坑">
<meta itemprop="description" content="Go 是一门简单有趣的编程语言，与其他语言一样，在使用时不免会遇到很多坑，不过它们大多不是 Go 本身的设计缺陷。如果你刚从其他语言转到 Go，那这篇文">


<meta itemprop="datePublished" content="2020-04-05T13:35:03&#43;08:00" />
<meta itemprop="dateModified" content="2020-04-05T13:35:03&#43;08:00" />
<meta itemprop="wordCount" content="15720">



<meta itemprop="keywords" content="Golang," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="让你的go语言少踩一些坑"/>
<meta name="twitter:description" content="Go 是一门简单有趣的编程语言，与其他语言一样，在使用时不免会遇到很多坑，不过它们大多不是 Go 本身的设计缺陷。如果你刚从其他语言转到 Go，那这篇文"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Eleven</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://veh47.github.io/">Home</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://veh47.github.io/post/">Archives</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://veh47.github.io/tags/">Tags</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://veh47.github.io/categories/">Categories</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://github.com/veh47" rel="noopener" target="_blank">
              GitHub
              
              <i class="iconfont">
                <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6C496.064 467.648 528.64 500.224 528.64 500.224 534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92 0 0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"></path>
  <path d="M841.152 457.152c-30.528 0-54.784 24.512-54.784 54.656l0 274.752L237.696 786.56 237.696 237.696l206.016 0c6.656 0 10.752 0 13.248 0C487.68 237.696 512 213.184 512 182.848 512 152.32 487.36 128 456.96 128L183.04 128C153.216 128 128 152.576 128 182.848c0 3.136 0.256 6.272 0.768 9.28C128.256 195.136 128 198.272 128 201.408l0 639.488c0 0.064 0 0.192 0 0.256 0 0.128 0 0.192 0 0.32 0 30.528 24.512 54.784 54.784 54.784l646.976 0c6.592 0 9.728 0 11.712 0 28.736 0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344l0-20.352L896 561.408 896 512.128C896 481.792 871.424 457.152 841.152 457.152z"></path>
</svg>

              </i>
            </a>
          
        
      </li>
    

    
      <li class="mobile-menu-item">
        <a id="openSearchMobile" class="mobile-menu-item-link menu-item-search" href="#">
          <i class="iconfont">
            <svg version="1.1" viewBox="0 0 1024 1024"
  xmlns="http://www.w3.org/2000/svg" width="18" height="18"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M973.81454219 973.81454219a91.78207815 91.78207815 0 0 1-129.80999631 0l-161.97482118-161.97482118a425.48527711 425.48527711 0 0 1-230.35931791 68.16531768 428.3346319 428.3346319 0 1 1 428.3346319-428.3346319 425.48527711 425.48527711 0 0 1-68.16531768 230.35931791l162.02961656 161.97482118a91.83687354 91.83687354 0 0 1-0.05479538 129.80999631zM451.67040679 145.69361559a305.97679241 305.97679241 0 1 0 0 611.95358361 305.97679241 305.97679241 0 0 0 0-611.95358361z">
  </path>
</svg>

          </i>
        </a>
      </li>
    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  
    
<div class="modal-dialog">
    
    <div class="modal-content">
      <div id="closeSearch" title="Close" class="close">X</div>
      <div class="modal-header">
        <div class="modal-title"> </div>
      </div>
      <div class="modal-body">
          <script>
            (function() {
              var cx = '012427586116641581695:ofnnpc5wf41';
              var gcse = document.createElement('script');
              gcse.type = 'text/javascript';
              gcse.async = true;
              gcse.src = (document.location.protocol == 'https:' ? 'https:' :
                  'http:') +
                '//cse.google.com/cse.js?cx=' + cx;
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(gcse, s);
            })();
          </script>
          <gcse:search></gcse:search>
      </div>
    </div>
</div>

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Eleven
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://veh47.github.io/">Home</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://veh47.github.io/post/">Archives</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://veh47.github.io/tags/">Tags</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://veh47.github.io/categories/">Categories</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://github.com/veh47" rel="noopener" target="_blank">
              GitHub
              
              <i class="iconfont">
                <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6C496.064 467.648 528.64 500.224 528.64 500.224 534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92 0 0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"></path>
  <path d="M841.152 457.152c-30.528 0-54.784 24.512-54.784 54.656l0 274.752L237.696 786.56 237.696 237.696l206.016 0c6.656 0 10.752 0 13.248 0C487.68 237.696 512 213.184 512 182.848 512 152.32 487.36 128 456.96 128L183.04 128C153.216 128 128 152.576 128 182.848c0 3.136 0.256 6.272 0.768 9.28C128.256 195.136 128 198.272 128 201.408l0 639.488c0 0.064 0 0.192 0 0.256 0 0.128 0 0.192 0 0.32 0 30.528 24.512 54.784 54.784 54.784l646.976 0c6.592 0 9.728 0 11.712 0 28.736 0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344l0-20.352L896 561.408 896 512.128C896 481.792 871.424 457.152 841.152 457.152z"></path>
</svg>

              </i>
            </a>
          

        

      </li>
    

    
    

    
      <li class="menu-item">
        <a id="openSearch" class="menu-item-link menu-item-search" href="#">
          <i class="iconfont">
            <svg version="1.1" viewBox="0 0 1024 1024"
  xmlns="http://www.w3.org/2000/svg" width="18" height="18"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M973.81454219 973.81454219a91.78207815 91.78207815 0 0 1-129.80999631 0l-161.97482118-161.97482118a425.48527711 425.48527711 0 0 1-230.35931791 68.16531768 428.3346319 428.3346319 0 1 1 428.3346319-428.3346319 425.48527711 425.48527711 0 0 1-68.16531768 230.35931791l162.02961656 161.97482118a91.83687354 91.83687354 0 0 1-0.05479538 129.80999631zM451.67040679 145.69361559a305.97679241 305.97679241 0 1 0 0 611.95358361 305.97679241 305.97679241 0 0 0 0-611.95358361z">
  </path>
</svg>

          </i>
        </a>
      </li>
    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">让你的go语言少踩一些坑</h1>
      
      <div class="post-meta">
        <time datetime="2020-04-05" class="post-time">
          2020-04-05
        </time>
        <div class="post-category">
            <a href="http://veh47.github.io/categories/golang/"> Golang </a>
            
          </div>
        

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Table of Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#初级篇">初级篇</a></li>
<li><a href="#中级篇">中级篇</a></li>
<li><a href="#高级篇">高级篇</a></li>
<li><a href="#感谢原作者-kcqon-总结的这篇博客-让我受益匪浅">感谢原作者 kcqon 总结的这篇博客，让我受益匪浅。</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      

<p>Go 是一门简单有趣的编程语言，与其他语言一样，在使用时不免会遇到很多坑，不过它们大多不是 Go 本身的设计缺陷。如果你刚从其他语言转到 Go，那这篇文章里的坑多半会踩到。</p>

<p>如果花时间学习官方 doc、wiki、讨论邮件列表、 Rob Pike 的大量文章以及 Go 的源码，会发现这篇文章中的坑是很常见的，新手跳过这些坑，能减少大量调试代码的时间。</p>

<!---more--->

<h3 id="初级篇">初级篇</h3>

<ol>
<li><p>左大括号 {， 一般不能单独放一行
在其他大多数语言中，{ 的位置你自行决定。Go 比较特别，遵守分号注入规则（automatic semicolon injection）：编译器会在每行代码尾部特定分隔符后加 ; 来分隔多条语句，比如会在 ) 后加分号：</p>

<p>// 错误示例
func main()<br />
{
    println(&ldquo;hello world&rdquo;)
}</p>

<p>// 等效于
func main();    // 无函数体<br />
{
    println(&ldquo;hello world&rdquo;)
}</p>

<p>./main.go: missing function body ./main.go: syntax error: unexpected semicolon or newline before {</p>

<p>// 正确示例
func main() {
    println(&ldquo;hello world&rdquo;)
}
注意代码块等特殊情况：</p>

<p>// { 并不遵守分号注入规则，不会在其后边自动加分，此时可换行
func main() {
    {
        println(&ldquo;hello world&rdquo;)
    }
}</p></li>
</ol>

<p>参考：Golang 中自动加分号的特殊分隔符</p>

<ol>
<li>未使用的变量</li>
</ol>

<p>如果在函数体代码中有未使用的变量，则无法通过编译，不过全局变量声明但不使用是可以的。</p>

<p>即使变量声明后为变量赋值，依旧无法通过编译，需在某处使用它：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 错误示例
var gvar int    // 全局变量，声明不使用也可以

func main() {
    var one int     // error: one declared and not used
    two := 2    // error: two declared and not used
    var three int   // error: three declared and not used
    three = 3       
}


// 正确示例
// 可以直接注释或移除未使用的变量
func main() {
    var one int
    _ = one

    two := 2
    println(two)

    var three int
    one = three

    var four int
    four = four
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>未使用的 import</li>
</ol>

<p>如果你 import 一个包，但包中的变量、函数、接口和结构体一个都没有用到的话，将编译失败。</p>

<p>可以使用 _ 下划线符号作为别名来忽略导入的包，从而避免编译错误，这只会执行 package 的 init()</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 错误示例
import (
    &#34;fmt&#34;   // imported and not used: &#34;fmt&#34;
    &#34;log&#34;   // imported and not used: &#34;log&#34;
    &#34;time&#34;  // imported and not used: &#34;time&#34;
)

func main() {
}


// 正确示例
// 可以使用 goimports 工具来注释或移除未使用到的包
import (
    _ &#34;fmt&#34;
    &#34;log&#34;
    &#34;time&#34;
)

func main() {
    _ = log.Println
    _ = time.Now
}</pre></td></tr></table>
</div>
</div>
<ol>
<li><p>简短声明的变量只能在函数内部使用</p>

<p>// 错误示例
myvar := 1  // syntax error: non-declaration statement outside function body
func main() {
}</p>

<p>// 正确示例
var  myvar = 1
func main() {
}</p></li>

<li><p>使用简短声明来重复声明变量</p></li>
</ol>

<p>不能用简短声明方式来单独为一个变量重复声明， := 左侧至少有一个新变量，才允许多变量的重复声明：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 错误示例
func main() {  
    one := 0
    one := 1 // error: no new variables on left side of :=
}


// 正确示例
func main() {
    one := 0
    one, two := 1, 2    // two 是新变量，允许 one 的重复声明。比如 error 处理经常用同名变量 err
    one, two = two, one // 交换两个变量值的简写
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>不能使用简短声明来设置字段的值</li>
</ol>

<p>struct 的变量字段不能使用 := 来赋值以使用预定义的变量来避免解决：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 错误示例
type info struct {
    result int
}

func work() (int, error) {
    return 3, nil
}

func main() {
    var data info
    data.result, err := work()  // error: non-name data.result on left side of :=
    fmt.Printf(&#34;info: %+v\n&#34;, data)
}


// 正确示例
func main() {
    var data info
    var err error   // err 需要预声明

    data.result, err = work()
    if err != nil {
        fmt.Println(err)
        return
    }

    fmt.Printf(&#34;info: %+v\n&#34;, data)
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>不小心覆盖了变量</li>
</ol>

<p>对从动态语言转过来的开发者来说，简短声明很好用，这可能会让人误会 := 是一个赋值操作符。</p>

<p>如果你在新的代码块中像下边这样误用了 :=，编译不会报错，但是变量不会按你的预期工作：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    x := 1
    println(x)      // 1
    {
        println(x)  // 1
        x := 2
        println(x)  // 2    // 新的 x 变量的作用域只在代码块内部
    }
    println(x)      // 1
}</pre></td></tr></table>
</div>
</div>
<p>这是 Go 开发者常犯的错，而且不易被发现。</p>

<p>可使用 vet 工具来诊断这种变量覆盖，Go 默认不做覆盖检查，添加 -shadow 选项来启用：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma">&gt; go tool vet -shadow main.go
main.go:9: declaration of &#34;x&#34; shadows declaration at main.go:5</pre></td></tr></table>
</div>
</div>
<p>注意 vet 不会报告全部被覆盖的变量，可以使用 go-nyet 来做进一步的检测：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma">&gt; $GOPATH/bin/go-nyet main.go
main.go:10:3:Shadowing variable `x`</pre></td></tr></table>
</div>
</div>
<ol>
<li>显式类型的变量无法使用 nil 来初始化</li>
</ol>

<p>nil 是 interface、function、pointer、map、slice 和 channel 类型变量的默认初始值。但声明时不指定类型，编译器也无法推断出变量的具体类型。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 错误示例
func main() {
    var x = nil // error: use of untyped nil
    _ = x
}


// 正确示例
func main() {
    var x interface{} = nil
    _ = x
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>直接使用值为 nil 的 slice、map</li>
</ol>

<p>允许对值为 nil 的 slice 添加元素，但对值为 nil 的 map 添加元素则会造成运行时 panic</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></pre></td>
<td class="lntd">
<pre class="chroma">// map 错误示例
func main() {
    var m map[string]int
    m[&#34;one&#34;] = 1        // error: panic: assignment to entry in nil map
    // m := make(map[string]int)// map 的正确声明，分配了实际的内存
}    


// slice 正确示例
func main() {
    var s []int
    s = append(s, 1)
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>map 容量</li>
</ol>

<p>在创建 map 类型的变量时可以指定容量，但不能像 slice 一样使用 cap() 来检测分配空间的大小：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 错误示例
func main() {
    m := make(map[string]int, 99)
    println(cap(m))     // error: invalid argument m1 (type map[string]int) for cap  
}</pre></td></tr></table>
</div>
</div>
<ol>
<li><p>string 类型的变量值不能为 nil</p>

<p>对那些喜欢用 nil 初始化字符串的人来说，这就是坑：</p>

<p>// 错误示例
func main() {
    var s string = nil  // cannot use nil as type string in assignment
    if s == nil {   // invalid operation: s == nil (mismatched types string and nil)
        s = &ldquo;default&rdquo;
    }
}</p>

<p>// 正确示例
func main() {
    var s string    // 字符串类型的零值是空串 &ldquo;&rdquo;
    if s == &ldquo;&rdquo; {
        s = &ldquo;default&rdquo;
    }
}</p></li>

<li><p>Array 类型的值作为函数参数</p></li>
</ol>

<p>在 C/C++ 中，数组（名）是指针。将数组作为参数传进函数时，相当于传递了数组内存地址的引用，在函数内部会改变该数组的值。</p>

<p>在 Go 中，数组是值。作为参数传进函数时，传递的是数组的原始值拷贝，此时在函数内部是无法更新该数组的：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 数组使用值拷贝传参
func main() {
    x := [3]int{1,2,3}

    func(arr [3]int) {
        arr[0] = 7
        fmt.Println(arr)    // [7 2 3]
    }(x)
    fmt.Println(x)          // [1 2 3]  // 并不是你以为的 [7 2 3]
}</pre></td></tr></table>
</div>
</div>
<p>如果想修改参数数组：</p>

<p>直接传递指向这个数组的指针类型：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 传址会修改原数据
func main() {
    x := [3]int{1,2,3}

    func(arr *[3]int) {
        (*arr)[0] = 7   
        fmt.Println(arr)    // &amp;[7 2 3]
    }(&amp;x)
    fmt.Println(x)  // [7 2 3]
}</pre></td></tr></table>
</div>
</div>
<p>直接使用 slice：即使函数内部得到的是 slice 的值拷贝，但依旧会更新 slice 的原始数据（底层 array）</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 会修改 slice 的底层 array，从而修改 slice
func main() {
    x := []int{1, 2, 3}
    func(arr []int) {
        arr[0] = 7
        fmt.Println(x)  // [7 2 3]
    }(x)
    fmt.Println(x)  // [7 2 3]
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>range 遍历 slice 和 array 时混淆了返回值</li>
</ol>

<p>与其他编程语言中的 for-in 、foreach 遍历语句不同，Go 中的 range 在遍历时会生成 2 个值，第一个是元素索引，第二个是元素的值：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 错误示例
func main() {
    x := []string{&#34;a&#34;, &#34;b&#34;, &#34;c&#34;}
    for v := range x {
        fmt.Println(v)  // 1 2 3
    }
}


// 正确示例
func main() {
    x := []string{&#34;a&#34;, &#34;b&#34;, &#34;c&#34;}
    for _, v := range x {   // 使用 _ 丢弃索引
        fmt.Println(v)
    }
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>slice 和 array 其实是一维数据</li>
</ol>

<p>看起来 Go 支持多维的 array 和 slice，可以创建数组的数组、切片的切片，但其实并不是。</p>

<p>对依赖动态计算多维数组值的应用来说，就性能和复杂度而言，用 Go 实现的效果并不理想。</p>

<p>可以使用原始的一维数组、“独立“ 的切片、“共享底层数组”的切片来创建动态的多维数组。</p>

<p>A. 使用原始的一维数组：要做好索引检查、溢出检测、以及当数组满时再添加值时要重新做内存分配。</p>

<p>B. 使用 “独立” 的切片分两步：</p>

<p>创建外部 slice</p>

<p>对每个内部 slice 进行内存分配，注意内部的 slice 相互独立，使得任一内部 slice 增缩都不会影响到其他的 slice</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 使用各自独立的 6 个 slice 来创建 [2][3] 的动态多维数组
func main() {
    x := 2
    y := 4

    table := make([][]int, x)
    for i  := range table {
        table[i] = make([]int, y)
    }
}</pre></td></tr></table>
</div>
</div>
<p>C. 使用 “共享底层数组” 的切片</p>

<p>创建一个存放原始数据的容器 slice</p>

<p>创建其他的 slice</p>

<p>切割原始 slice 来初始化其他的 slice</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    h, w := 2, 4
    raw := make([]int, h*w)

    for i := range raw {
        raw[i] = i
    }

    // 初始化原始 slice
    fmt.Println(raw, &amp;raw[4])   // [0 1 2 3 4 5 6 7] 0xc420012120 

    table := make([][]int, h)
    for i := range table {

        // 等间距切割原始 slice，创建动态多维数组 table
        // 0: raw[0*4: 0*4 + 4]
        // 1: raw[1*4: 1*4 + 4]
        table[i] = raw[i*w : i*w + w]
    }

    fmt.Println(table, &amp;table[1][0])    // [[0 1 2 3] [4 5 6 7]] 0xc420012120
}</pre></td></tr></table>
</div>
</div>
<p>更多关于多维数组可参考：go-how-is-two-dimensional-arrays-memory-representation</p>

<p>what-is-a-concise-way-to-create-a-2d-slice-in-go</p>

<ol>
<li>访问 map 中不存在的 key</li>
</ol>

<p>和其他编程语言类似，如果访问了 map 中不存在的 key 则希望能返回 nil，比如在 PHP 中：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma">&gt; php -r &#39;$v = [&#34;x&#34;=&gt;1, &#34;y&#34;=&gt;2]; @var_dump($v[&#34;z&#34;]);&#39;
NULL</pre></td></tr></table>
</div>
</div>
<p>Go 则会返回元素对应数据类型的零值，比如 nil、&rdquo; 、false 和 0，取值操作总有值返回，故不能通过取出来的值来判断 key 是不是在 map 中。</p>

<p>检查 key 是否存在可以用 map 直接访问，检查返回的第二个参数即可：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 错误的 key 检测方式
func main() {
    x := map[string]string{&#34;one&#34;: &#34;2&#34;, &#34;two&#34;: &#34;&#34;, &#34;three&#34;: &#34;3&#34;}
    if v := x[&#34;two&#34;]; v == &#34;&#34; {
        fmt.Println(&#34;key two is no entry&#34;)  // 键 two 存不存在都会返回的空字符串
    }
}

// 正确示例
func main() {
    x := map[string]string{&#34;one&#34;: &#34;2&#34;, &#34;two&#34;: &#34;&#34;, &#34;three&#34;: &#34;3&#34;}
    if _, ok := x[&#34;two&#34;]; !ok {
        fmt.Println(&#34;key two is no entry&#34;)
    }
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>string 类型的值是常量，不可更改</li>
</ol>

<p>尝试使用索引遍历字符串，来更新字符串中的个别字符，是不允许的。</p>

<p>string 类型的值是只读的二进制 byte slice，如果真要修改字符串中的字符，将 string 转为 []byte 修改后，再转为 string 即可：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 修改字符串的错误示例
func main() {
    x := &#34;text&#34;
    x[0] = &#34;T&#34;      // error: cannot assign to x[0]
    fmt.Println(x)
}


// 修改示例
func main() {
    x := &#34;text&#34;
    xBytes := []byte(x)
    xBytes[0] = &#39;T&#39; // 注意此时的 T 是 rune 类型
    x = string(xBytes)
    fmt.Println(x)  // Text
}</pre></td></tr></table>
</div>
</div>
<p>注意：上边的示例并不是更新字符串的正确姿势，因为一个 UTF8 编码的字符可能会占多个字节，比如汉字就需要 3~4 个字节来存储，此时更新其中的一个字节是错误的。</p>

<p>更新字串的正确姿势：将 string 转为 rune slice（此时 1 个 rune 可能占多个 byte），直接更新 rune 中的字符</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    x := &#34;text&#34;
    xRunes := []rune(x)
    xRunes[0] = &#39;我&#39;
    x = string(xRunes)
    fmt.Println(x)  // 我ext
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>string 与 byte slice 之间的转换</li>
</ol>

<p>当进行 string 和 byte slice 相互转换时，参与转换的是拷贝的原始值。这种转换的过程，与其他编程语的强制类型转换操作不同，也和新 slice 与旧 slice 共享底层数组不同。</p>

<p>Go 在 string 与 byte slice 相互转换上优化了两点，避免了额外的内存分配：</p>

<p>在 map[string] 中查找 key 时，使用了对应的 []byte，避免做 m[string(key)] 的内存分配
使用 for range 迭代 string 转换为 []byte 的迭代：for i,v := range []byte(str) {&hellip;}</p>

<ol>
<li>string 与索引操作符</li>
</ol>

<p>对字符串用索引访问返回的不是字符，而是一个 byte 值。</p>

<p>这种处理方式和其他语言一样，比如 PHP 中：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></pre></td>
<td class="lntd">
<pre class="chroma">&gt; php -r &#39;$name=&#34;中文&#34;; var_dump($name);&#39; # &#34;中文&#34; 占用 6 个字节
string(6) &#34;中文&#34;

&gt; php -r &#39;$name=&#34;中文&#34;; var_dump($name[0]);&#39; # 把第一个字节当做 Unicode 字符读取，显示 U+FFFD
string(1) &#34;�&#34;   

&gt; php -r &#39;$name=&#34;中文&#34;; var_dump($name[0].$name[1].$name[2]);&#39;
string(3) &#34;中&#34;


func main() {
    x := &#34;ascii&#34;
    fmt.Println(x[0])       // 97
    fmt.Printf(&#34;%T\n&#34;, x[0])// uint8
}</pre></td></tr></table>
</div>
</div>
<p>如果需要使用 for range 迭代访问字符串中的字符（unicode code point / rune），标准库中有 &ldquo;unicode/utf8&rdquo; 包来做 UTF8 的相关解码编码。另外 utf8string 也有像 func (s *String) At(i int) rune 等很方便的库函数。</p>

<ol>
<li>字符串并不都是 UTF8 文本</li>
</ol>

<p>string 的值不必是 UTF8 文本，可以包含任意的值。只有字符串是文字字面值时才是 UTF8 文本，字串可以通过转义来包含其他数据。</p>

<p>判断字符串是否是 UTF8 文本，可使用 &ldquo;unicode/utf8&rdquo; 包中的 ValidString() 函数：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    str1 := &#34;ABC&#34;
    fmt.Println(utf8.ValidString(str1)) // true

    str2 := &#34;A\xfeC&#34;
    fmt.Println(utf8.ValidString(str2)) // false

    str3 := &#34;A\\xfeC&#34;
    fmt.Println(utf8.ValidString(str3)) // true // 把转义字符转义成字面值
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>字符串的长度</li>
</ol>

<p>在 Python 中：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma">data = u&#39;♥&#39;  
print(len(data)) # 1</pre></td></tr></table>
</div>
</div>
<p>然而在 Go 中：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    char := &#34;♥&#34;
    fmt.Println(len(char))  // 3
}</pre></td></tr></table>
</div>
</div>
<p>Go 的内建函数 len() 返回的是字符串的 byte 数量，而不是像 Python 中那样是计算 Unicode 字符数。</p>

<p>如果要得到字符串的字符数，可使用 &ldquo;unicode/utf8&rdquo; 包中的 RuneCountInString(str string) (n int)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    char := &#34;♥&#34;
    fmt.Println(utf8.RuneCountInString(char))   // 1
}</pre></td></tr></table>
</div>
</div>
<p>注意：RuneCountInString 并不总是返回我们看到的字符数，因为有的字符会占用 2 个 rune：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    char := &#34;é&#34;
    fmt.Println(len(char))  // 3
    fmt.Println(utf8.RuneCountInString(char))   // 2
    fmt.Println(&#34;cafe\u0301&#34;)   // café // 法文的 cafe，实际上是两个 rune 的组合
}</pre></td></tr></table>
</div>
</div>
<p>参考：normalization</p>

<ol>
<li><p>在多行 array、slice、map 语句中缺少 , 号</p>

<p>func main() {
    x := []int {
        1,
        2   // syntax error: unexpected newline, expecting comma or }
    }
    y := []int{1,2,}<br />
    z := []int{1,2}
    // &hellip;
}</p></li>
</ol>

<p>声明语句中 } 折叠到单行后，尾部的 , 不是必需的。</p>

<ol>
<li>log.Fatal 和 log.Panic 不只是 log</li>
</ol>

<p>log 标准库提供了不同的日志记录等级，与其他语言的日志库不同，Go 的 log 包在调用 Fatal<em>()、Panic</em>() 时能做更多日志外的事，如中断程序的执行等：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    log.Fatal(&#34;Fatal level log: log entry&#34;)     // 输出信息后，程序终止执行
    log.Println(&#34;Nomal level log: log entry&#34;)
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>对内建数据结构的操作并不是同步的</li>
</ol>

<p>尽管 Go 本身有大量的特性来支持并发，但并不保证并发的数据安全，用户需自己保证变量等数据以原子操作更新。</p>

<p>goroutine 和 channel 是进行原子操作的好方法，或使用 &ldquo;sync&rdquo; 包中的锁。</p>

<ol>
<li>range 迭代 string 得到的值</li>
</ol>

<p>range 得到的索引是字符值（Unicode point / rune）第一个字节的位置，与其他编程语言不同，这个索引并不直接是字符在字符串中的位置。</p>

<p>注意一个字符可能占多个 rune，比如法文单词 café 中的 é。操作特殊字符可使用norm 包。</p>

<p>for range 迭代会尝试将 string 翻译为 UTF8 文本，对任何无效的码点都直接使用 0XFFFD rune（�）UNicode 替代字符来表示。如果 string 中有任何非 UTF8 的数据，应将 string 保存为 byte slice 再进行操作。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    data := &#34;A\xfe\x02\xff\x04&#34;
    for _, v := range data {
        fmt.Printf(&#34;%#x &#34;, v)   // 0x41 0xfffd 0x2 0xfffd 0x4   // 错误
    }

    for _, v := range []byte(data) {
        fmt.Printf(&#34;%#x &#34;, v)   // 0x41 0xfe 0x2 0xff 0x4   // 正确
    }
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>range 迭代 map</li>
</ol>

<p>如果你希望以特定的顺序（如按 key 排序）来迭代 map，要注意每次迭代都可能产生不一样的结果。</p>

<p>Go 的运行时是有意打乱迭代顺序的，所以你得到的迭代结果可能不一致。但也并不总会打乱，得到连续相同的 5 个迭代结果也是可能的，如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    m := map[string]int{&#34;one&#34;: 1, &#34;two&#34;: 2, &#34;three&#34;: 3, &#34;four&#34;: 4}
    for k, v := range m {
        fmt.Println(k, v)
    }
}</pre></td></tr></table>
</div>
</div>
<p>如果你去 Go Playground 重复运行上边的代码，输出是不会变的，只有你更新代码它才会重新编译。重新编译后迭代顺序是被打乱的：</p>

<p><img src="data:image/jpeg;base64,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" alt="images" /></p>

<ol>
<li>switch 中的 fallthrough 语句</li>
</ol>

<p>switch 语句中的 case 代码块会默认带上 break，但可以使用 fallthrough 来强制执行下一个 case 代码块。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    isSpace := func(char byte) bool {
        switch char {
        case &#39; &#39;:   // 空格符会直接 break，返回 false // 和其他语言不一样
        // fallthrough  // 返回 true
        case &#39;\t&#39;:
            return true
        }
        return false
    }
    fmt.Println(isSpace(&#39;\t&#39;))  // true
    fmt.Println(isSpace(&#39; &#39;))   // false
}</pre></td></tr></table>
</div>
</div>
<p>不过你可以在 case 代码块末尾使用 fallthrough，强制执行下一个 case 代码块。</p>

<p>也可以改写 case 为多条件判断：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    isSpace := func(char byte) bool {
        switch char {
        case &#39; &#39;, &#39;\t&#39;:
            return true
        }
        return false
    }
    fmt.Println(isSpace(&#39;\t&#39;))  // true
    fmt.Println(isSpace(&#39; &#39;))   // true
}   </pre></td></tr></table>
</div>
</div>
<ol>
<li>自增和自减运算</li>
</ol>

<p>很多编程语言都自带前置后置的 ++、&ndash; 运算。但 Go 特立独行，去掉了前置操作，同时 ++、— 只作为运算符而非表达式。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 错误示例
func main() {
    data := []int{1, 2, 3}
    i := 0
    ++i         // syntax error: unexpected ++, expecting }
    fmt.Println(data[i++])  // syntax error: unexpected ++, expecting :
}


// 正确示例
func main() {
    data := []int{1, 2, 3}
    i := 0
    i++
    fmt.Println(data[i])    // 2
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>按位取反</li>
</ol>

<p>很多编程语言使用 ~ 作为一元按位取反（NOT）操作符，Go 重用 ^ XOR 操作符来按位取反：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 错误的取反操作
func main() {
    fmt.Println(~2)     // bitwise complement operator is ^
}


// 正确示例
func main() {
    var d uint8 = 2
    fmt.Printf(&#34;b\n&#34;, d)        // 00000010
    fmt.Printf(&#34;b\n&#34;, ^d)   // 11111101
}</pre></td></tr></table>
</div>
</div>
<p>同时 ^ 也是按位异或（XOR）操作符。</p>

<p>一个操作符能重用两次，是因为一元的 NOT 操作 NOT 0x02，与二元的 XOR 操作 0x22 XOR 0xff 是一致的。</p>

<p>Go 也有特殊的操作符 AND NOT &amp;^ 操作符，不同位才取1。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    var a uint8 = 0x82
    var b uint8 = 0x02
    fmt.Printf(&#34;b [A]\n&#34;, a)
    fmt.Printf(&#34;b [B]\n&#34;, b)

    fmt.Printf(&#34;b (NOT B)\n&#34;, ^b)
    fmt.Printf(&#34;b ^ b = b [B XOR 0xff]\n&#34;, b, 0xff, b^0xff)

    fmt.Printf(&#34;b ^ b = b [A XOR B]\n&#34;, a, b, a^b)
    fmt.Printf(&#34;b &amp; b = b [A AND B]\n&#34;, a, b, a&amp;b)
    fmt.Printf(&#34;b &amp;^b = b [A &#39;AND NOT&#39; B]\n&#34;, a, b, a&amp;^b)
    fmt.Printf(&#34;b&amp;(^b)= b [A AND (NOT B)]\n&#34;, a, b, a&amp;(^b))
}
10000010 [A]
00000010 [B]
11111101 (NOT B)
00000010 ^ 11111111 = 11111101 [B XOR 0xff]
10000010 ^ 00000010 = 10000000 [A XOR B]
10000010 &amp; 00000010 = 00000010 [A AND B]
10000010 &amp;^00000010 = 10000000 [A &#39;AND NOT&#39; B]
10000010&amp;(^00000010)= 10000000 [A AND (NOT B)]</pre></td></tr></table>
</div>
</div>
<ol>
<li>运算符的优先级</li>
</ol>

<p>除了位清除（bit clear）操作符，Go 也有很多和其他语言一样的位操作符，但优先级另当别论。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    fmt.Printf(&#34;0x2 &amp; 0x2 + 0x4 -&gt; %#x\n&#34;, 0x2&amp;0x2+0x4) // &amp; 优先 +
    //prints: 0x2 &amp; 0x2 + 0x4 -&gt; 0x6
    //Go:    (0x2 &amp; 0x2) + 0x4
    //C++:    0x2 &amp; (0x2 + 0x4) -&gt; 0x2

    fmt.Printf(&#34;0x2 + 0x2 &lt;&lt; 0x1 -&gt; %#x\n&#34;, 0x2+0x2&lt;&lt;0x1)   // &lt;&lt; 优先 +
    //prints: 0x2 + 0x2 &lt;&lt; 0x1 -&gt; 0x6
    //Go:     0x2 + (0x2 &lt;&lt; 0x1)
    //C++:   (0x2 + 0x2) &lt;&lt; 0x1 -&gt; 0x8

    fmt.Printf(&#34;0xf | 0x2 ^ 0x2 -&gt; %#x\n&#34;, 0xf|0x2^0x2) // | 优先 ^
    //prints: 0xf | 0x2 ^ 0x2 -&gt; 0xd
    //Go:    (0xf | 0x2) ^ 0x2
    //C++:    0xf | (0x2 ^ 0x2) -&gt; 0xf
}</pre></td></tr></table>
</div>
</div>
<p>优先级列表：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></pre></td>
<td class="lntd">
<pre class="chroma">Precedence    Operator
    5             *  /  %  &lt;&lt;  &gt;&gt;  &amp;  &amp;^
    4             +  -  |  ^
    3             ==  !=  &lt;  &lt;=  &gt;  &gt;=
    2             &amp;&amp;
    1             ||</pre></td></tr></table>
</div>
</div>
<ol>
<li>不导出的 struct 字段无法被 encode</li>
</ol>

<p>以小写字母开头的字段成员是无法被外部直接访问的，所以 struct 在进行 json、xml、gob 等格式的 encode 操作时，这些私有字段会被忽略，导出时得到零值：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    in := MyData{1, &#34;two&#34;}
    fmt.Printf(&#34;%#v\n&#34;, in) // main.MyData{One:1, two:&#34;two&#34;}

    encoded, _ := json.Marshal(in)
    fmt.Println(string(encoded))    // {&#34;One&#34;:1}    // 私有字段 two 被忽略了

    var out MyData
    json.Unmarshal(encoded, &amp;out)
    fmt.Printf(&#34;%#v\n&#34;, out)    // main.MyData{One:1, two:&#34;&#34;}
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>程序退出时还有 goroutine 在执行</li>
</ol>

<p>程序默认不等所有 goroutine 都执行完才退出，这点需要特别注意：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 主程序会直接退出
func main() {
    workerCount := 2
    for i := 0; i &lt; workerCount; i++ {
        go doIt(i)
    }
    time.Sleep(1 * time.Second)
    fmt.Println(&#34;all done!&#34;)
}

func doIt(workerID int) {
    fmt.Printf(&#34;[%v] is running\n&#34;, workerID)
    time.Sleep(3 * time.Second)     // 模拟 goroutine 正在执行 
    fmt.Printf(&#34;[%v] is done\n&#34;, workerID)
}</pre></td></tr></table>
</div>
</div>
<p>如下，main() 主程序不等两个 goroutine 执行完就直接退出了：</p>

<p><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAD0qLjYuJj02MjZFQT1JXJpkXFRUXLyGjm+a38Tq5tvE19P2////9v///9PX////////////7v//////////////2wBDAUFFRVxRXLRkZLT//df9////////////////////////////////////////////////////////////////////wAARCAFCAe4DASIAAhEBAxEB/8QAGQABAQEBAQEAAAAAAAAAAAAAAAQDAQIF/8QALxABAAICAAQFBAEEAgMAAAAAAAECAxEEEiExEzIzQVEUImFxREJSgZEVIzRiof/EABcBAQEBAQAAAAAAAAAAAAAAAAABAgP/xAAdEQEBAAMBAQEBAQAAAAAAAAAAAQIRQTEhEgNR/9oADAMBAAIRAxEAPwCIBWAAAAAAAHYiZ7KOAIA7yzPsTEx3hRwBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHZrMd4cAAAAAAAAAAAAAB7x45v2C3Tw948c3no0+mt8tcOOad5NsZZzXxNkxzSerw+hekXrqUWTHNLEphnt4AGxrgjqybYPMsTLx5zRqzNVbHWZ3Z5tirNftGZnHKZK61p6yxHh7YR0s3y+kcSzViYI6qKYqxXdhu3ScU+HSY6MZxzF9CTKV4FMYqRH3O+FSY6QJ+4lHbRq0w4jYCjDg5o3bsonFsYsMzrXVlmwxF4isd0E4sjDjpWOfuWwUtXdARjto5Z1LgAKcGGt69Y6qJhbGDHXpbW3jLhpW1YiO8oJRvxGOtJ+2Dh8dbzPNAMBVTDWctqzHZ78DHWfu0CIV5cFOTdEgoDTBSL31KozF30+OJ6wfT44nqghFGTB/wBmq9msYcdY+/WxUTte8bWTgxzXdYZ4qYpr93fao7mvSccRHdKq4jFSlN1hNWNzCRXBb9NTUTp2MOGekdxEI95acltPAoDXDinJP4VGQt8LDXpOtvObDStN1hBIK8eCsV5sj1GLFeNV7giHvLjmltPAop4fJERyymBnKbml/iV+Xa2i3Z89Rw94jpKacsv56ipLxGSJ+2HrNm1GqpSRcMO0AV1G2DzMWuCYi3VYmXjua0717PeHfJO3ZpS07l5yZIrXVRz9mox/rlvl9JPE/cqnltTUycay+WJ8XqQ1zzPLr2Z3iKWjlbRNb01Il9lY4Znn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" alt="images" /></p>

<p>常用解决办法：使用 &ldquo;WaitGroup&rdquo; 变量，它会让主程序等待所有 goroutine 执行完毕再退出。</p>

<p>如果你的 goroutine 要做消息的循环处理等耗时操作，可以向它们发送一条 kill 消息来关闭它们。或直接关闭一个它们都等待接收数据的 channel：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 等待所有 goroutine 执行完毕
// 进入死锁
func main() {
    var wg sync.WaitGroup
    done := make(chan struct{})

    workerCount := 2
    for i := 0; i &lt; workerCount; i++ {
        wg.Add(1)
        go doIt(i, done, wg)
    }

    close(done)
    wg.Wait()
    fmt.Println(&#34;all done!&#34;)
}

func doIt(workerID int, done &lt;-chan struct{}, wg sync.WaitGroup) {
    fmt.Printf(&#34;[%v] is running\n&#34;, workerID)
    defer wg.Done()
    &lt;-done
    fmt.Printf(&#34;[%v] is done\n&#34;, workerID)
}</pre></td></tr></table>
</div>
</div>
<p>执行结果：</p>

<p><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAD0qLjYuJj02MjZFQT1JXJpkXFRUXLyGjm+a38Tq5tvE19P2////9v///9PX////////////7v//////////////2wBDAUFFRVxRXLRkZLT//df9////////////////////////////////////////////////////////////////////wAARCAIYArADASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIDBAH/xAA2EAADAAIBAgQFBAEDBAMAAwAAAQIDERIhMQQTQVEFIjJhgTNDccEUI5GhNEJSYiRyseHw8f/EABcBAQEBAQAAAAAAAAAAAAAAAAABAgP/xAAcEQEBAQEAAgMAAAAAAAAAAAAAAREhAhITMUH/2gAMAwEAAhEDEQA/AJfE/wBr8/0YDf8AE/2vz/RgKzQE8cc7U70dy4njfuvcM7NxWAAoC1TvCtLqQ04adT/uVNRBfk08XLWilJ09JbBLrgJOanutBRTW0mwuog65cvTWjhABKcdX9MtioqWk5abAiCbxXK25aRAAAlt6RNYsj7QwIAk4pJtp6QUU1tJ6AiCaw5H/ANjItaemBwHUtvSJeVk/8WBAEnFS0nLTZ14ciW+DAgC/FLmabxtproymZdPUrbA4CflZNb4vRAAATWLI1tQ9AQBJY6dNKW2vQVFR9SaAiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAN/wAT/a/P9GbBUS3yX5NPxP8Aa/P9GAHlN43Tkx1Wp1sZqlQ+XUxxTik0Lure2THL4+ogArqvmnODa7i23g3XfZCMrmdaTRy7d9ysevU6/wCnX8nY+XC2u5CcrmdaTRyMjlv2foDKtx7vG+Qt0rmZ6Ig8jrUr5UXLl06z/IZvFPiPrX8FS7lmalV9PQr9Q6eP01ZarHETHTfsXa6y39SkhHmcJW5f3IZ8rnJPF7a7kUwXd5XNPa69DPfS3/JbXiW09Sk36lAVLH+ov5NGbPUZUl2X/Jml6afsdu3dcmEX1XPw9VruyWNNeHW1/wBxTizPHLnSa+52vE1S00u+wLsuWl4iZT0inxPTMyFZXWTm0tnMlvJXJ9wruL9Sf5NjyNeZ/wCq6GGXxpNehY89Pl0XzBGtdUrf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" alt="images" /></p>

<p>看起来好像 goroutine 都执行完了，然而报错：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">fatal error: all goroutines are asleep - deadlock!</pre></td></tr></table>
</div>
</div>
<p>为什么会发生死锁？goroutine 在退出前调用了 wg.Done() ，程序应该正常退出的。</p>

<p>原因是 goroutine 得到的 &ldquo;WaitGroup&rdquo; 变量是 var wg WaitGroup 的一份拷贝值，即 doIt() 传参只传值。所以哪怕在每个 goroutine 中都调用了 wg.Done()， 主程序中的 wg 变量并不会受到影响。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 等待所有 goroutine 执行完毕
// 使用传址方式为 WaitGroup 变量传参
// 使用 channel 关闭 goroutine

func main() {
    var wg sync.WaitGroup
    done := make(chan struct{})
    ch := make(chan interface{})

    workerCount := 2
    for i := 0; i &lt; workerCount; i++ {
        wg.Add(1)
        go doIt(i, ch, done, &amp;wg)   // wg 传指针，doIt() 内部会改变 wg 的值
    }

    for i := 0; i &lt; workerCount; i++ {  // 向 ch 中发送数据，关闭 goroutine
        ch &lt;- i
    }

    close(done)
    wg.Wait()
    close(ch)
    fmt.Println(&#34;all done!&#34;)
}

func doIt(workerID int, ch &lt;-chan interface{}, done &lt;-chan struct{}, wg *sync.WaitGroup) {
    fmt.Printf(&#34;[%v] is running\n&#34;, workerID)
    defer wg.Done()
    for {
        select {
        case m := &lt;-ch:
            fmt.Printf(&#34;[%v] m =&gt; %v\n&#34;, workerID, m)
        case &lt;-done:
            fmt.Printf(&#34;[%v] is done\n&#34;, workerID)
            return
        }
    }
}</pre></td></tr></table>
</div>
</div>
<p>运行效果：</p>

<p><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAC8gIykjHS8pJik1Mi84R3ZMR0FBR5BnbVV2q5azsKiWpaK81P/lvMj/y6Kl6//u////////tuL/////////////2wBDATI1NUc+R4pMTIr/wqXC////////////////////////////////////////////////////////////////////wAARCAI0AlYDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAIDBAEF/8QALhABAAICAQMBCAICAwEBAAAAAAECAxEEEiExMhMUIjM0QVFxUmFCgSNikSRE/8QAGAEBAQEBAQAAAAAAAAAAAAAAAAECAwT/xAAhEQEBAAIDAQADAQEBAAAAAAAAATFBAhEhUQMSYSITMv/aAAwDAQACEQMRAD8A84BpgB2I34BwSmto8wiIACgAAlSN2X5ccRTcDN5dXpmBKkbtGxURsrjpMfZHNiiKTMDH/Sd9MoA6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOx5Bwb8eGk4dzrbFaNWkEQAAAAAAAAAAAAAAAAAAbsGCvTue+xjlynGMK/jVrNu7b7Gn8YIx1ie0J25X8ss6MmKt66l5+XFOO3fx9npoZccXrO2ZWOHO8a8sTyU6LaQberIAKnj9TVlibUiIZcfqbdxFYmV04/kvVjJ7vf8IXpak92r3iOrWnc1YnHvQTnZfWbFM9TTm+Uy4vU1ZvlGjn/6jElWs2nUOR3lsw0ildz5G+XL9Yz+75PwjbFanmF9uRq2tLY1loMfvymWGI2sjBeY7QtxY4652nkyxj7RAt53vqM/u+T8IWrNZ1LZiye0iezNyPmJTjytvVVADqLKYb5PTDmKvVeIelPTx8e9RsRi9zy/hXkw3xxu0NePl9eSI0s5VOuNf2KwY8N8nphZ7nl/DZM1wYtxHfSmnM3fvAjHek0nUovS5OOt8fVEfZ5yK4AonTHbJPwpRx8k21ruu4XqhrzZKYo3qNl8IwzxMsRvSFcF7TMRHeG/DnjJSZnshg1OW4MFqzSdSljxWyemEuV8xo4P+X6JgrL7G/X067pe7ZN601x9XC7LeuONzEAwTxMsR4UWrNZ1L0cHJ9rfp0o5tYrMTH3QZAFEqUm86jys91yfh3i/Neha8U6e3kR508bJWe8FuLkr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" alt="images" /></p>

<p>32.向无缓冲的 channel 发送数据，只要 receiver 准备好了就会立刻返回</p>

<p>只有在数据被 receiver 处理时，sender 才会阻塞。因运行环境而异，在 sender 发送完数据后，receiver 的 goroutine 可能没有足够的时间处理下一个数据。如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    ch := make(chan string)

    go func() {
        for m := range ch {
            fmt.Println(&#34;Processed:&#34;, m)
            time.Sleep(1 * time.Second) // 模拟需要长时间运行的操作
        }
    }()

    ch &lt;- &#34;cmd.1&#34;
    ch &lt;- &#34;cmd.2&#34; // 不会被接收处理
}</pre></td></tr></table>
</div>
</div>
<p>运行效果：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma">go run main.go
Processed: cmd.1</pre></td></tr></table>
</div>
</div>
<ol>
<li>向已关闭的 channel 发送数据会造成 panic</li>
</ol>

<p>从已关闭的 channel 接收数据是安全的：</p>

<p>接收状态值 ok 是 false 时表明 channel 中已没有数据可以接收了。类似的，从有缓冲的 channel 中接收数据，缓存的数据获取完再没有数据可取时，状态值也是 false</p>

<p>向已关闭的 channel 中发送数据会造成 panic：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    ch := make(chan int)
    for i := 0; i &lt; 3; i++ {
        go func(idx int) {
            ch &lt;- idx
        }(i)
    }

    fmt.Println(&lt;-ch)       // 输出第一个发送的值
    close(ch)           // 不能关闭，还有其他的 sender
    time.Sleep(2 * time.Second) // 模拟做其他的操作
}</pre></td></tr></table>
</div>
</div>
<p>运行结果：</p>

<p><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAC8gIykjHS8pJik1Mi84R3ZMR0FBR5BnbVV2q5azsKiWpaK81P/lvMj/y6Kl6//u////////tuL/////////////2wBDATI1NUc+R4pMTIr/wqXC////////////////////////////////////////////////////////////////////wAARCAGPAsYDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAIDBAEF/8QANBAAAgIBBAEDAwMDBAICAwAAAAECAxEEEiExEyJBURQycTNhkSNSgQU0QqEkcjViscHR/8QAGAEBAQEBAQAAAAAAAAAAAAAAAAECAwT/xAAdEQEBAAIDAQEBAAAAAAAAAAAAAQJBAxExEiFh/9oADAMBAAIRAxEAPwDzgCW2XwzTElviILowTjyuSqS2vDJ23lx5YyWuAArCTi0k2uGcSbeEaZQdlUUiqVU6sS//AAGJl2i6pxWWuCBqUnPTycnkzRi5PCXIMb364C56af7EI1ylLalyF+ogC56aePYpCyy+ABfDSWTju4S/cKoBdPTWQkotZb6wT+itx7fjIGYHZJxeGsM4ABbXp52R3R6Jz0lkI7njAGcE7KpVySl2yz6azMVx6ugKAaVorX8IolFwk4vtARANEdHbJJrGGBnBolpLIwcnjCOQ0tk47uEv3AoJuuSgpNcP3LJaWyMoxeOeid8bYUKM8bV8AZQWVUztzt9ix6O1Rzx+AM4O9HAAL69LZZHcsJfucs01lbSeHnrAFINP0VuPbPxkolFwk1JYYEQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB2Lw8l3kj8lAJZ26YcuWE6jSnlZRVbJPhexxTajggSR05Ob6x6gADTztU5SVEVH3EsrS+rshHUOMUsLghZa7HyVymNW1/wC2kc0q5l8+xCu5wjhJM55X5N64YX5v7FkHP6jnPfJdJbVNx7KfqXjiKySpdjTkmnn5DGUvtNOpbZOWf8mZ9s2uUowbnhGJ9krWH7bUqknZFP5NWrc3bGEc4/YyQTc0k8M9H+vwtsX+4dE8YlDP3JGODs+s5z93JPV3ONkNr9UeyP1r7UFu+SKhrcfUPBnJSk5ycm8tkSjbRNw0kmuy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" alt="images" /></p>

<p>针对上边有 bug 的这个例子，可使用一个废弃 channel done 来告诉剩余的 goroutine 无需再向 ch 发送数据。此时 &lt;- done 的结果是 {}：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    ch := make(chan int)
    done := make(chan struct{})

    for i := 0; i &lt; 3; i++ {
        go func(idx int) {
            select {
            case ch &lt;- (idx + 1) * 2:
                fmt.Println(idx, &#34;Send result&#34;)
            case &lt;-done:
                fmt.Println(idx, &#34;Exiting&#34;)
            }
        }(i)
    }

    fmt.Println(&#34;Result: &#34;, &lt;-ch)
    close(done)
    time.Sleep(3 * time.Second)
}</pre></td></tr></table>
</div>
</div>
<p>运行效果：</p>

<p><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAC8gIykjHS8pJik1Mi84R3ZMR0FBR5BnbVV2q5azsKiWpaK81P/lvMj/y6Kl6//u////////tuL/////////////2wBDATI1NUc+R4pMTIr/wqXC////////////////////////////////////////////////////////////////////wAARCAFpAokDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAEDBAIF/8QALBABAAICAQMCBgIDAQEBAAAAAAECAxEEEiExE1EiMjNBUnEUYSM0QpGBJP/EABgBAQEBAQEAAAAAAAAAAAAAAAABAgME/8QAHxEBAQADAAICAwAAAAAAAAAAAAECEUESMQMhMlFh/9oADAMBAAIRAxEAPwDzgTpphA6rG5bcOCvR3jaMZZSMA0cjBNJ3HhQbal2gBVATALqYuqsyqtGp01YfpyoyVtNp7DnL9ql+LD1RtV0Wj7OqZLV7bGr/ABdPHjTPaNTpsxzM03LJl+eRnG3bgTpMUt7SNuR1NJ9kaBA6isz4hPRb2kNuBM1mPMAIAFBMRM+Idenf8ZBwOppaPNZRETM6iAQO/Tv+MuZrNfMaBAlAAJiN+AQOui29ak9O/wCMg5HXTO9anaJrMeYBAmImfEJ6Lb8SDkdTS3tJ6d/xkHImYmPMIABMRvwCB1FLfjJ6dvxkHI69O2t9Mo1M+AQOvTv+MnRaPNZBEd2qnFi2Lq+7NWtp8RLRXNeuPp6ZBmtGpmEJmdzJFZnxGwQOui34ymcdojvWRHAlAAAoOorM+I2n07/jIOBNqzHmNJis28RsHI79O/4y5mJjzAIAEAAAAAAAAAAWYsc5LahrjiV0y4Mvp28N0Zq68wjnncp6cfxawtpXpjUOfVr7w7rbqjbNcMrl0tWLRqWHPhmk7jw3zOo2xcnL1TqCN/FayiRt6UJhCYVGzj96S6tatfLjB2pKjLMzdHLW61fDevZkvHTfTVgiYp3Zsv1JFxaMP02XJ88tWH6bNk+eQx911hx9U9/DTa1McREuOP8AIqz733C/d00RauSNM9sWrxHunjTPW0Wj4oXSfjXMVrjjumuSlp1CvkTOnGCPi2Jrc275MfCytXJ+VlR0x9IB3ijd4gabePx6xXrs7tycdZ1Gk5JmuCNezzqx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" alt="images" /></p>

<ol>
<li>用了值为 nil 的 channel</li>
</ol>

<p>在一个值为 nil 的 channel 上发送和接收数据将永久阻塞：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    var ch chan int // 未初始化，值为 nil
    for i := 0; i &lt; 3; i++ {
        go func(i int) {
            ch &lt;- i
        }(i)
    }

    fmt.Println(&#34;Result: &#34;, &lt;-ch)
    time.Sleep(2 * time.Second)
}</pre></td></tr></table>
</div>
</div>
<p>runtime 死锁错误：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma">fatal error: all goroutines are asleep - deadlock!
goroutine 1 [chan receive (nil chan)]</pre></td></tr></table>
</div>
</div>
<p>利用这个死锁的特性，可以用在 select 中动态的打开和关闭 case 语句块：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    inCh := make(chan int)
    outCh := make(chan int)

    go func() {
        var in &lt;-chan int = inCh
        var out chan&lt;- int
        var val int

        for {
            select {
            case out &lt;- val:
                println(&#34;--------&#34;)
                out = nil
                in = inCh
            case val = &lt;-in:
                println(&#34;++++++++++&#34;)
                out = outCh
                in = nil
            }
        }
    }()

    go func() {
        for r := range outCh {
            fmt.Println(&#34;Result: &#34;, r)
        }
    }()

    time.Sleep(0)
    inCh &lt;- 1
    inCh &lt;- 2
    time.Sleep(3 * time.Second)
}</pre></td></tr></table>
</div>
</div>
<p>运行效果：</p>

<p><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAC8gIykjHS8pJik1Mi84R3ZMR0FBR5BnbVV2q5azsKiWpaK81P/lvMj/y6Kl6//u////////tuL/////////////2wBDATI1NUc+R4pMTIr/wqXC////////////////////////////////////////////////////////////////////wAARCAIMAp4DASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAEDBAIF/8QAKxABAAICAQMCBgIDAQEAAAAAAAECAxEEEiExE0EUMjNRUmEigTRCcSOR/8QAGAEBAQEBAQAAAAAAAAAAAAAAAAECAwT/xAAcEQEBAQEAAgMAAAAAAAAAAAAAARECITEDEkH/2gAMAwEAAhEDEQA/APOAaYATEbBA04+NNq72pyY5pPeBmdSuABoAAdVrNpcrcPzCW45tjmvlw18iOzKJzdIjc6WRhmY24rOp200zxMa0J1b+KLYrQrlvvETSZ/TDbyHN1AA2AkEAAAAAAAAAkEAkEAkEAACUAAAAACUAAAAAAAAAAAAAOq0m9tQ5XYLRXJEyDnJhtjjdnDZystb01GmMEAACQRAAoCQQCQQCQQAAAAAAAAAA6rWbTqHLbxK16dz5Rnq5FHw+T7Oq4LxMTpv7I7I435HOLcV7ozYoyR3WCOU6u68zJjmk6lW38mK67+WFqPVzdiAFbF2H5oVLcPzQrPXppvSLeXHw9HeW/TXaiuS028o5TcRlxdPjw4p8zVl742Wnkbl8Ndvpf0wz5bp+l/TFPkThNKTedQ0/D113ThrEV2rzZJ32C225HU8euuzPakxOl+DJMzqVmSsTMLhtntTjwbjus+Ho7vbop2Z65LTbyJtvl3fBWI3DNLdb6f8ATFPlG+bXIA2mtZtOobMXDiY3dxwqbybldys00jVewJ+Dxe21HI49ccfxTxsl7ZY3PZqzV6uwjLg4vVG7x2XRxMMzrc7d5r+ni1H2YK5rxbe0VZn40071jszy9WP54dz9nl5I/lKjkAHVI3bTZ8JE0ia+WTF88PTi8UxRIiqOHj1/Lyqz8amOu4czyberHfttZyM0XrqCDm3GrGKLe8smu70b/wCPX/jz/wDaUitePjUthi0+UYePW82ifZow/wCNDniT/O6o4jhV338OrcPH09t7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" alt="images" /></p>

<ol>
<li>若函数 receiver 传参是传值方式，则无法修改参数的原有值</li>
</ol>

<p>方法 receiver 的参数与一般函数的参数类似：如果声明为值，那方法体得到的是一份参数的值拷贝，此时对参数的任何修改都不会对原有值产生影响。</p>

<p>除非 receiver 参数是 map 或 slice 类型的变量，并且是以指针方式更新 map 中的字段、slice 中的元素的，才会更新原有值:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></pre></td>
<td class="lntd">
<pre class="chroma">type data struct {
    num   int
    key   *string
    items map[string]bool
}

func (this *data) pointerFunc() {
    this.num = 7
}

func (this data) valueFunc() {
    this.num = 8
    *this.key = &#34;valueFunc.key&#34;
    this.items[&#34;valueFunc&#34;] = true
}

func main() {
    key := &#34;key1&#34;

    d := data{1, &amp;key, make(map[string]bool)}
    fmt.Printf(&#34;num=%v  key=%v  items=%v\n&#34;, d.num, *d.key, d.items)

    d.pointerFunc() // 修改 num 的值为 7
    fmt.Printf(&#34;num=%v  key=%v  items=%v\n&#34;, d.num, *d.key, d.items)

    d.valueFunc()   // 修改 key 和 items 的值
    fmt.Printf(&#34;num=%v  key=%v  items=%v\n&#34;, d.num, *d.key, d.items)
}</pre></td></tr></table>
</div>
</div>
<p>运行结果：</p>

<p><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAC8gIykjHS8pJik1Mi84R3ZMR0FBR5BnbVV2q5azsKiWpaK81P/lvMj/y6Kl6//u////////tuL/////////////2wBDATI1NUc+R4pMTIr/wqXC////////////////////////////////////////////////////////////////////wAARCACdAtYDASIAAhEBAxEB/8QAGgABAAMBAQEAAAAAAAAAAAAAAAECAwQGBf/EADMQAAICAQQABQMDBAEEAwAAAAABAgMRBBIhMRMiQVFxFGGRMjOBIzRCUiQFU4KhJTVy/8QAFwEBAQEBAAAAAAAAAAAAAAAAAAECA//EABsRAQEBAQADAQAAAAAAAAAAAAABEQIDEjFB/9oADAMBAAIRAxEAPwD6x5g9OeYLGaAlRb6TOjT6dTT3ZDFsn1zA0tqlVLD69zMqy6E4eM+hB0wi5UYSywluOYnbL2Zd1Th5mjeubnXLclwgl6xyAlLL4NPAnjoNbIyBZQbeEuS7osS6BsZAkgKA1jprZLKjwQ6Zqag4+ZgZg2lprYxy48GIAA1WnteMR7AyBq9PapbXHnspGEpS2pZYFQaqix5xHrgToshHdKOEEZAF4VyseIrLCqA2+mt48nZV0zU9jj5gMyUm+lk1eluSy4mmnhbX51DKaA5QWacp4S5bNFprW8bAjEFpRcJNSWGVCgL11yseIrJaenthHMo4QRkDaGmtnHKjwzOcZQeJLDCqgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPTnmD055gkWu+q6pVrpfY1hOM87Xk+Ya1XyqTS5yMcOvHvx06uUVDa1lvo4C05OcsyeWVEb559ZgdVUnGhtdnKbV3bI7XFNFXqbGsXKVMnIrp/0S+DOy5zWEsIV3OtNYzkM+txbTJb3ntdFlZPx8N+vRk7XvUksGn1C72rILK2aUd0kuSlLlKMnJtkUynJOXDyaOTjBuSSKzmOJ9mmnipXRT6yZstTu8RbeyOrqussepUINpL0R0y4nOSXmwUUrd3NcU/V5MLtQ69TmPKxhgTpLJzulGTbT9zksWLJfJ0vVrDUIKLfqcreeWFF2jtvtlXRBReMrs4TW252RisY2rAHTTc7blldR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" alt="images" /></p>

<h3 id="中级篇">中级篇</h3>

<ol>
<li>关闭 HTTP 的响应体</li>
</ol>

<p>使用 HTTP 标准库发起请求、获取响应时，即使你不从响应中读取任何数据或响应为空，都需要手动关闭响应体。新手很容易忘记手动关闭，或者写在了错误的位置：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 请求失败造成 panic
func main() {
    resp, err := http.Get(&#34;https://api.ipify.org?format=json&#34;)
    defer resp.Body.Close() // resp 可能为 nil，不能读取 Body
    if err != nil {
        fmt.Println(err)
        return
    }

    body, err := ioutil.ReadAll(resp.Body)
    checkError(err)

    fmt.Println(string(body))
}

func checkError(err error) {
    if err != nil{
        log.Fatalln(err)
    }
}</pre></td></tr></table>
</div>
</div>
<p>上边的代码能正确发起请求，但是一旦请求失败，变量 resp 值为 nil，造成 panic：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></pre></td>
<td class="lntd">
<pre class="chroma">panic: runtime error: invalid memory address or nil pointer dereference
应该先检查 HTTP 响应错误为 nil，再调用 resp.Body.Close() 来关闭响应体：

// 大多数情况正确的示例
func main() {
    resp, err := http.Get(&#34;https://api.ipify.org?format=json&#34;)
    checkError(err)

    defer resp.Body.Close() // 绝大多数情况下的正确关闭方式
    body, err := ioutil.ReadAll(resp.Body)
    checkError(err)

    fmt.Println(string(body))
}</pre></td></tr></table>
</div>
</div>
<p>输出：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">Get https://api.ipify.org?format=json: x509: certificate signed by unknown authority</pre></td></tr></table>
</div>
</div>
<p>绝大多数请求失败的情况下，resp 的值为 nil 且 err 为 non-nil。但如果你得到的是重定向错误，那它俩的值都是 non-nil，最后依旧可能发生内存泄露。2 个解决办法：</p>

<p>可以直接在处理 HTTP 响应错误的代码块中，直接关闭非 nil 的响应体。</p>

<p>手动调用 defer 来关闭响应体：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 正确示例
func main() {
    resp, err := http.Get(&#34;http://www.baidu.com&#34;)

    // 关闭 resp.Body 的正确姿势
    if resp != nil {
        defer resp.Body.Close()
    }

    checkError(err)

    body, err := ioutil.ReadAll(resp.Body)
    checkError(err)

    fmt.Println(string(body))
}</pre></td></tr></table>
</div>
</div>
<p>resp.Body.Close() 早先版本的实现是读取响应体的数据之后丢弃，保证了 keep-alive 的 HTTP 连接能重用处理不止一个请求。但 Go 的最新版本将读取并丢弃数据的任务交给了用户，如果你不处理，HTTP 连接可能会直接关闭而非重用，参考在 Go 1.5 版本文档。</p>

<p>如果程序大量重用 HTTP 长连接，你可能要在处理响应的逻辑代码中加入：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">_, err = io.Copy(ioutil.Discard, resp.Body) // 手动丢弃读取完毕的数据</pre></td></tr></table>
</div>
</div>
<p>如果你需要完整读取响应，上边的代码是需要写的。比如在解码 API 的 JSON 响应数据：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">json.NewDecoder(resp.Body).Decode(&amp;data)</pre></td></tr></table>
</div>
</div>
<ol>
<li>关闭 HTTP 连接</li>
</ol>

<p>一些支持 HTTP1.1 或 HTTP1.0 配置了 connection: keep-alive 选项的服务器会保持一段时间的长连接。但标准库 &ldquo;net/http&rdquo; 的连接默认只在服务器主动要求关闭时才断开，所以你的程序可能会消耗完 socket 描述符。解决办法有 2 个，请求结束后：</p>

<p>直接设置请求变量的 Close 字段值为 true，每次请求结束后就会主动关闭连接。
设置 Header 请求头部选项 Connection: close，然后服务器返回的响应头部也会有这个选项，此时 HTTP 标准库会主动断开连接。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 主动关闭连接
func main() {
    req, err := http.NewRequest(&#34;GET&#34;, &#34;http://golang.org&#34;, nil)
    checkError(err)

    req.Close = true
    //req.Header.Add(&#34;Connection&#34;, &#34;close&#34;) // 等效的关闭方式

    resp, err := http.DefaultClient.Do(req)
    if resp != nil {
        defer resp.Body.Close()
    }
    checkError(err)

    body, err := ioutil.ReadAll(resp.Body)
    checkError(err)

    fmt.Println(string(body))
}</pre></td></tr></table>
</div>
</div>
<p>你可以创建一个自定义配置的 HTTP transport 客户端，用来取消 HTTP 全局的复用连接：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    tr := http.Transport{DisableKeepAlives: true}
    client := http.Client{Transport: &amp;tr}

    resp, err := client.Get(&#34;https://golang.google.cn/&#34;)
    if resp != nil {
        defer resp.Body.Close()
    }
    checkError(err)

    fmt.Println(resp.StatusCode)    // 200

    body, err := ioutil.ReadAll(resp.Body)
    checkError(err)

    fmt.Println(len(string(body)))
}</pre></td></tr></table>
</div>
</div>
<p>根据需求选择使用场景：</p>

<p>若你的程序要向同一服务器发大量请求，使用默认的保持长连接。</p>

<p>若你的程序要连接大量的服务器，且每台服务器只请求一两次，那收到请求后直接关闭连接。或增加最大文件打开数 fs.file-max 的值。</p>

<p>将 JSON 中的数字解码为 interface 类型
在 encode/decode JSON 数据时，Go 默认会将数值当做 float64 处理，比如下边的代码会造成 panic：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    var data = []byte(`{&#34;status&#34;: 200}`)
    var result map[string]interface{}

    if err := json.Unmarshal(data, &amp;result); err != nil {
        log.Fatalln(err)
    }

    fmt.Printf(&#34;%T\n&#34;, result[&#34;status&#34;])    // float64
    var status = result[&#34;status&#34;].(int) // 类型断言错误
    fmt.Println(&#34;Status value: &#34;, status)
}
panic: interface conversion: interface {} is float64, not int</pre></td></tr></table>
</div>
</div>
<p>如果你尝试 decode 的 JSON 字段是整型，你可以：</p>

<p>将 int 值转为 float 统一使用</p>

<p>将 decode 后需要的 float 值转为 int 使用</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 将 decode 的值转为 int 使用
func main() {
    var data = []byte(`{&#34;status&#34;: 200}`)
    var result map[string]interface{}

    if err := json.Unmarshal(data, &amp;result); err != nil {
        log.Fatalln(err)
    }

    var status = uint64(result[&#34;status&#34;].(float64))
    fmt.Println(&#34;Status value: &#34;, status)
}</pre></td></tr></table>
</div>
</div>
<p>使用 Decoder 类型来 decode JSON 数据，明确表示字段的值类型</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 指定字段类型
func main() {
    var data = []byte(`{&#34;status&#34;: 200}`)
    var result map[string]interface{}

    var decoder = json.NewDecoder(bytes.NewReader(data))
    decoder.UseNumber()

    if err := decoder.Decode(&amp;result); err != nil {
        log.Fatalln(err)
    }

    var status, _ = result[&#34;status&#34;].(json.Number).Int64()
    fmt.Println(&#34;Status value: &#34;, status)
}

 // 你可以使用 string 来存储数值数据，在 decode 时再决定按 int 还是 float 使用
 // 将数据转为 decode 为 string
 func main() {
    var data = []byte({&#34;status&#34;: 200})
    var result map[string]interface{}
    var decoder = json.NewDecoder(bytes.NewReader(data))
    decoder.UseNumber()
    if err := decoder.Decode(&amp;result); err != nil {
        log.Fatalln(err)
    }
    var status uint64
    err := json.Unmarshal([]byte(result[&#34;status&#34;].(json.Number).String()), &amp;status);
    checkError(err)
    fmt.Println(&#34;Status value: &#34;, status)
}</pre></td></tr></table>
</div>
</div>
<p>使用 struct 类型将你需要的数据映射为数值型</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></pre></td>
<td class="lntd">
<pre class="chroma">// struct 中指定字段类型
func main() {
    var data = []byte(`{&#34;status&#34;: 200}`)
    var result struct {
        Status uint64 `json:&#34;status&#34;`
    }

    err := json.NewDecoder(bytes.NewReader(data)).Decode(&amp;result)
    checkError(err)
    fmt.Printf(&#34;Result: %+v&#34;, result)
}</pre></td></tr></table>
</div>
</div>
<p>可以使用 struct 将数值类型映射为 json.RawMessage 原生数据类型</p>

<p>适用于如果 JSON 数据不着急 decode 或 JSON 某个字段的值类型不固定等情况：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 状态名称可能是 int 也可能是 string，指定为 json.RawMessage 类型
func main() {
    records := [][]byte{
        []byte(`{&#34;status&#34;:200, &#34;tag&#34;:&#34;one&#34;}`),
        []byte(`{&#34;status&#34;:&#34;ok&#34;, &#34;tag&#34;:&#34;two&#34;}`),
    }

    for idx, record := range records {
        var result struct {
            StatusCode uint64
            StatusName string
            Status     json.RawMessage `json:&#34;status&#34;`
            Tag        string          `json:&#34;tag&#34;`
        }

        err := json.NewDecoder(bytes.NewReader(record)).Decode(&amp;result)
        checkError(err)

        var name string
        err = json.Unmarshal(result.Status, &amp;name)
        if err == nil {
            result.StatusName = name
        }

        var code uint64
        err = json.Unmarshal(result.Status, &amp;code)
        if err == nil {
            result.StatusCode = code
        }

        fmt.Printf(&#34;[%v] result =&gt; %+v\n&#34;, idx, result)
    }
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>struct、array、slice 和 map 的值比较</li>
</ol>

<p>可以使用相等运算符 == 来比较结构体变量，前提是两个结构体的成员都是可比较的类型：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></pre></td>
<td class="lntd">
<pre class="chroma">type data struct {
    num     int
    fp      float32
    complex complex64
    str     string
    char    rune
    yes     bool
    events  &lt;-chan string
    handler interface{}
    ref     *byte
    raw     [10]byte
}

func main() {
    v1 := data{}
    v2 := data{}
    fmt.Println(&#34;v1 == v2: &#34;, v1 == v2) // true
}</pre></td></tr></table>
</div>
</div>
<p>如果两个结构体中有任意成员是不可比较的，将会造成编译错误。注意数组成员只有在数组元素可比较时候才可比较。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></pre></td>
<td class="lntd">
<pre class="chroma">type data struct {
    num    int
    checks [10]func() bool      // 无法比较
    doIt   func() bool      // 无法比较
    m      map[string]string    // 无法比较
    bytes  []byte           // 无法比较
}


func main() {
    v1 := data{}
    v2 := data{}

    fmt.Println(&#34;v1 == v2: &#34;, v1 == v2)
}



invalid operation: v1 == v2 (struct containing [10]func() bool cannot be compared)</pre></td></tr></table>
</div>
</div>
<p>Go 提供了一些库函数来比较那些无法使用 == 比较的变量，比如使用 &ldquo;reflect&rdquo; 包的 DeepEqual() ：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 比较相等运算符无法比较的元素
func main() {
    v1 := data{}
    v2 := data{}
    fmt.Println(&#34;v1 == v2: &#34;, reflect.DeepEqual(v1, v2))    // true

    m1 := map[string]string{&#34;one&#34;: &#34;a&#34;, &#34;two&#34;: &#34;b&#34;}
    m2 := map[string]string{&#34;two&#34;: &#34;b&#34;, &#34;one&#34;: &#34;a&#34;}
    fmt.Println(&#34;v1 == v2: &#34;, reflect.DeepEqual(m1, m2))    // true

    s1 := []int{1, 2, 3}
    s2 := []int{1, 2, 3}
    // 注意两个 slice 相等，值和顺序必须一致
    fmt.Println(&#34;v1 == v2: &#34;, reflect.DeepEqual(s1, s2))    // true
}</pre></td></tr></table>
</div>
</div>
<p>这种比较方式可能比较慢，根据你的程序需求来使用。DeepEqual() 还有其他用法：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    var b1 []byte = nil
    b2 := []byte{}
    fmt.Println(&#34;b1 == b2: &#34;, reflect.DeepEqual(b1, b2))    // false
}
注意：

DeepEqual() 并不总适合于比较 slice
func main() {
    var str = &#34;one&#34;
    var in interface{} = &#34;one&#34;
    fmt.Println(&#34;str == in: &#34;, reflect.DeepEqual(str, in))  // true

    v1 := []string{&#34;one&#34;, &#34;two&#34;}
    v2 := []string{&#34;two&#34;, &#34;one&#34;}
    fmt.Println(&#34;v1 == v2: &#34;, reflect.DeepEqual(v1, v2))    // false

    data := map[string]interface{}{
        &#34;code&#34;:  200,
        &#34;value&#34;: []string{&#34;one&#34;, &#34;two&#34;},
    }
    encoded, _ := json.Marshal(data)
    var decoded map[string]interface{}
    json.Unmarshal(encoded, &amp;decoded)
    fmt.Println(&#34;data == decoded: &#34;, reflect.DeepEqual(data, decoded))  // false
}</pre></td></tr></table>
</div>
</div>
<p>如果要大小写不敏感来比较 byte 或 string 中的英文文本，可以使用 &ldquo;bytes&rdquo; 或 &ldquo;strings&rdquo; 包的 ToUpper() 和 ToLower() 函数。比较其他语言的 byte 或 string，应使用 bytes.EqualFold() 和 strings.EqualFold()</p>

<p>如果 byte slice 中含有验证用户身份的数据（密文哈希、token 等），不应再使用 reflect.DeepEqual()、bytes.Equal()、 bytes.Compare()。这三个函数容易对程序造成 timing attacks，此时应使用 &ldquo;crypto/subtle&rdquo; 包中的 subtle.ConstantTimeCompare() 等函数</p>

<p>reflect.DeepEqual() 认为空 slice 与 nil slice 并不相等，但注意 byte.Equal() 会认为二者相等：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    var b1 []byte = nil
    b2 := []byte{}

    // b1 与 b2 长度相等、有相同的字节序
    // nil 与 slice 在字节上是相同的
    fmt.Println(&#34;b1 == b2: &#34;, bytes.Equal(b1, b2))  // true
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>从 panic 中恢复</li>
</ol>

<p>在一个 defer 延迟执行的函数中调用 recover() ，它便能捕捉 / 中断 panic</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 错误的 recover 调用示例
func main() {
    recover()   // 什么都不会捕捉
    panic(&#34;not good&#34;)   // 发生 panic，主程序退出
    recover()   // 不会被执行
    println(&#34;ok&#34;)
}

// 正确的 recover 调用示例
func main() {
    defer func() {
        fmt.Println(&#34;recovered: &#34;, recover())
    }()
    panic(&#34;not good&#34;)
}</pre></td></tr></table>
</div>
</div>
<p>从上边可以看出，recover() 仅在 defer 执行的函数中调用才会生效。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 错误的调用示例
func main() {
    defer func() {
        doRecover()
    }()
    panic(&#34;not good&#34;)
}

func doRecover() {
    fmt.Println(&#34;recobered: &#34;, recover())
}
recobered: panic: not good</pre></td></tr></table>
</div>
</div>
<ol>
<li>在 range 迭代 slice、array、map 时通过更新引用来更新元素</li>
</ol>

<p>在 range 迭代中，得到的值其实是元素的一份值拷贝，更新拷贝并不会更改原来的元素，即是拷贝的地址并不是原有元素的地址：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    data := []int{1, 2, 3}
    for _, v := range data {
        v *= 10     // data 中原有元素是不会被修改的
    }
    fmt.Println(&#34;data: &#34;, data) // data:  [1 2 3]
}</pre></td></tr></table>
</div>
</div>
<p>如果要修改原有元素的值，应该使用索引直接访问：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    data := []int{1, 2, 3}
    for i, v := range data {
        data[i] = v * 10    
    }
    fmt.Println(&#34;data: &#34;, data) // data:  [10 20 30]
}</pre></td></tr></table>
</div>
</div>
<p>如果你的集合保存的是指向值的指针，需稍作修改。依旧需要使用索引访问元素，不过可以使用 range 出来的元素直接更新原有值：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    data := []*struct{ num int }{{1}, {2}, {3},}
    for _, v := range data {
        v.num *= 10 // 直接使用指针更新
    }
    fmt.Println(data[0], data[1], data[2])  // &amp;{10} &amp;{20} &amp;{30}
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>slice 中隐藏的数据</li>
</ol>

<p>从 slice 中重新切出新 slice 时，新 slice 会引用原 slice 的底层数组。如果跳了这个坑，程序可能会分配大量的临时 slice 来指向原底层数组的部分数据，将导致难以预料的内存使用。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></pre></td>
<td class="lntd">
<pre class="chroma">func get() []byte {
    raw := make([]byte, 10000)
    fmt.Println(len(raw), cap(raw), &amp;raw[0])    // 10000 10000 0xc420080000
    return raw[:3]  // 重新分配容量为 10000 的 slice
}

func main() {
    data := get()
    fmt.Println(len(data), cap(data), &amp;data[0]) // 3 10000 0xc420080000
}</pre></td></tr></table>
</div>
</div>
<p>可以通过拷贝临时 slice 的数据，而不是重新切片来解决：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></pre></td>
<td class="lntd">
<pre class="chroma">func get() (res []byte) {
    raw := make([]byte, 10000)
    fmt.Println(len(raw), cap(raw), &amp;raw[0])    // 10000 10000 0xc420080000
    res = make([]byte, 3)
    copy(res, raw[:3])
    return
}

func main() {
    data := get()
    fmt.Println(len(data), cap(data), &amp;data[0]) // 3 3 0xc4200160b8
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>Slice 中数据的误用</li>
</ol>

<p>举个简单例子，重写文件路径（存储在 slice 中）</p>

<p>分割路径来指向每个不同级的目录，修改第一个目录名再重组子目录名，创建新路径：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 错误使用 slice 的拼接示例
func main() {
    path := []byte(&#34;AAAA/BBBBBBBBB&#34;)
    sepIndex := bytes.IndexByte(path, &#39;/&#39;) // 4
    println(sepIndex)

    dir1 := path[:sepIndex]
    dir2 := path[sepIndex+1:]
    println(&#34;dir1: &#34;, string(dir1))     // AAAA
    println(&#34;dir2: &#34;, string(dir2))     // BBBBBBBBB

    dir1 = append(dir1, &#34;suffix&#34;...)
    println(&#34;current path: &#34;, string(path)) // AAAAsuffixBBBB

    path = bytes.Join([][]byte{dir1, dir2}, []byte{&#39;/&#39;})
    println(&#34;dir1: &#34;, string(dir1))     // AAAAsuffix
    println(&#34;dir2: &#34;, string(dir2))     // uffixBBBB

    println(&#34;new path: &#34;, string(path)) // AAAAsuffix/uffixBBBB // 错误结果
}</pre></td></tr></table>
</div>
</div>
<p>拼接的结果不是正确的 AAAAsuffix/BBBBBBBBB，因为 dir1、 dir2 两个 slice 引用的数据都是 path 的底层数组，第 13 行修改 dir1 同时也修改了 path，也导致了 dir2 的修改</p>

<p>解决方法：</p>

<p>重新分配新的 slice 并拷贝你需要的数据</p>

<p>使用完整的 slice 表达式：input[low:high:max]，容量便调整为 max - low</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 使用 full slice expression
func main() {

    path := []byte(&#34;AAAA/BBBBBBBBB&#34;)
    sepIndex := bytes.IndexByte(path, &#39;/&#39;) // 4
    dir1 := path[:sepIndex:sepIndex]        // 此时 cap(dir1) 指定为4， 而不是先前的 16
    dir2 := path[sepIndex+1:]
    dir1 = append(dir1, &#34;suffix&#34;...)

    path = bytes.Join([][]byte{dir1, dir2}, []byte{&#39;/&#39;})
    println(&#34;dir1: &#34;, string(dir1))     // AAAAsuffix
    println(&#34;dir2: &#34;, string(dir2))     // BBBBBBBBB
    println(&#34;new path: &#34;, string(path)) // AAAAsuffix/BBBBBBBBB
}</pre></td></tr></table>
</div>
</div>
<p>第 6 行中第三个参数是用来控制 dir1 的新容量，再往 dir1 中 append 超额元素时，将分配新的 buffer 来保存。而不是覆盖原来的 path 底层数组</p>

<ol>
<li>旧 slice</li>
</ol>

<p>当你从一个已存在的 slice 创建新 slice 时，二者的数据指向相同的底层数组。如果你的程序使用这个特性，那需要注意 &ldquo;旧&rdquo;（stale） slice 问题。</p>

<p>某些情况下，向一个 slice 中追加元素而它指向的底层数组容量不足时，将会重新分配一个新数组来存储数据。而其他 slice 还指向原来的旧底层数组。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 超过容量将重新分配数组来拷贝值、重新存储
func main() {
    s1 := []int{1, 2, 3}
    fmt.Println(len(s1), cap(s1), s1)   // 3 3 [1 2 3 ]

    s2 := s1[1:]
    fmt.Println(len(s2), cap(s2), s2)   // 2 2 [2 3]

    for i := range s2 {
        s2[i] += 20
    }
    // 此时的 s1 与 s2 是指向同一个底层数组的
    fmt.Println(s1)     // [1 22 23]
    fmt.Println(s2)     // [22 23]

    s2 = append(s2, 4)  // 向容量为 2 的 s2 中再追加元素，此时将分配新数组来存

    for i := range s2 {
        s2[i] += 10
    }
    fmt.Println(s1)     // [1 22 23]    // 此时的 s1 不再更新，为旧数据
    fmt.Println(s2)     // [32 33 14]
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>类型声明与方法</li>
</ol>

<p>从一个现有的非 interface 类型创建新类型时，并不会继承原有的方法：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 定义 Mutex 的自定义类型
type myMutex sync.Mutex

func main() {
    var mtx myMutex
    mtx.Lock()
    mtx.UnLock()
}
mtx.Lock undefined (type myMutex has no field or method Lock)...</pre></td></tr></table>
</div>
</div>
<p>如果你需要使用原类型的方法，可将原类型以匿名字段的形式嵌到你定义的新 struct 中：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 类型以字段形式直接嵌入
type myLocker struct {
    sync.Mutex
}

func main() {
    var locker myLocker
    locker.Lock()
    locker.Unlock()
}</pre></td></tr></table>
</div>
</div>
<p>interface 类型声明也保留它的方法集：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></pre></td>
<td class="lntd">
<pre class="chroma">type myLocker sync.Locker

func main() {
    var locker myLocker
    locker.Lock()
    locker.Unlock()
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>跳出 for-switch 和 for-select 代码块</li>
</ol>

<p>没有指定标签的 break 只会跳出 switch/select 语句，若不能使用 return 语句跳出的话，可为 break 跳出标签指定的代码块：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></pre></td>
<td class="lntd">
<pre class="chroma">// break 配合 label 跳出指定代码块
func main() {
loop:
    for {
        switch {
        case true:
            fmt.Println(&#34;breaking out...&#34;)
            //break // 死循环，一直打印 breaking out...
            break loop
        }
    }
    fmt.Println(&#34;out...&#34;)
}</pre></td></tr></table>
</div>
</div>
<p>goto 虽然也能跳转到指定位置，但依旧会再次进入 for-switch，死循环。</p>

<ol>
<li>for 语句中的迭代变量与闭包函数</li>
</ol>

<p>for 语句中的迭代变量在每次迭代中都会重用，即 for 中创建的闭包函数接收到的参数始终是同一个变量，在 goroutine 开始执行时都会得到同一个迭代值：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    data := []string{&#34;one&#34;, &#34;two&#34;, &#34;three&#34;}

    for _, v := range data {
        go func() {
            fmt.Println(v)
        }()
    }

    time.Sleep(3 * time.Second)
    // 输出 three three three
}</pre></td></tr></table>
</div>
</div>
<p>最简单的解决方法：无需修改 goroutine 函数，在 for 内部使用局部变量保存迭代值，再传参：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    data := []string{&#34;one&#34;, &#34;two&#34;, &#34;three&#34;}

    for _, v := range data {
        vCopy := v
        go func() {
            fmt.Println(vCopy)
        }()
    }

    time.Sleep(3 * time.Second)
    // 输出 one two three
}</pre></td></tr></table>
</div>
</div>
<p>另一个解决方法：直接将当前的迭代值以参数形式传递给匿名函数：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    data := []string{&#34;one&#34;, &#34;two&#34;, &#34;three&#34;}

    for _, v := range data {
        go func(in string) {
            fmt.Println(in)
        }(v)
    }

    time.Sleep(3 * time.Second)
    // 输出 one two three
}</pre></td></tr></table>
</div>
</div>
<p>注意下边这个稍复杂的 3 个示例区别：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span></pre></td>
<td class="lntd">
<pre class="chroma">type field struct {
    name string
}

func (p *field) print() {
    fmt.Println(p.name)
}

// 错误示例
func main() {
    data := []field{{&#34;one&#34;}, {&#34;two&#34;}, {&#34;three&#34;}}
    for _, v := range data {
        go v.print()
    }
    time.Sleep(3 * time.Second)
    // 输出 three three three 
}


// 正确示例
func main() {
    data := []field{{&#34;one&#34;}, {&#34;two&#34;}, {&#34;three&#34;}}
    for _, v := range data {
        v := v
        go v.print()
    }
    time.Sleep(3 * time.Second)
    // 输出 one two three
}

// 正确示例
func main() {
    data := []*field{{&#34;one&#34;}, {&#34;two&#34;}, {&#34;three&#34;}}
    for _, v := range data {    // 此时迭代值 v 是三个元素值的地址，每次 v 指向的值不同
        go v.print()
    }
    time.Sleep(3 * time.Second)
    // 输出 one two three
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>defer 函数的参数值</li>
</ol>

<p>对 defer 延迟执行的函数，它的参数会在声明时候就会求出具体值，而不是在执行时才求值：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 在 defer 函数中参数会提前求值
func main() {
    var i = 1
    defer fmt.Println(&#34;result: &#34;, func() int { return i * 2 }())
    i++
}
result: 2</pre></td></tr></table>
</div>
</div>
<ol>
<li>defer 函数的执行时机</li>
</ol>

<p>对 defer 延迟执行的函数，会在调用它的函数结束时执行，而不是在调用它的语句块结束时执行，注意区分开。</p>

<p>比如在一个长时间执行的函数里，内部 for 循环中使用 defer 来清理每次迭代产生的资源调用，就会出现问题：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 命令行参数指定目录名
// 遍历读取目录下的文件
func main() {

    if len(os.Args) != 2 {
        os.Exit(1)
    }

    dir := os.Args[1]
    start, err := os.Stat(dir)
    if err != nil || !start.IsDir() {
        os.Exit(2)
    }

    var targets []string
    filepath.Walk(dir, func(fPath string, fInfo os.FileInfo, err error) error {
        if err != nil {
            return err
        }

        if !fInfo.Mode().IsRegular() {
            return nil
        }

        targets = append(targets, fPath)
        return nil
    })

    for _, target := range targets {
        f, err := os.Open(target)
        if err != nil {
            fmt.Println(&#34;bad target:&#34;, target, &#34;error:&#34;, err)   //error:too many open files
            break
        }
        defer f.Close() // 在每次 for 语句块结束时，不会关闭文件资源

        // 使用 f 资源
    }
}</pre></td></tr></table>
</div>
</div>
<p>先创建 10000 个文件：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></pre></td>
<td class="lntd">
<pre class="chroma"><span class="cp">#!/bin/bash
</span><span class="cp"></span><span class="k">for</span> n in <span class="o">{</span><span class="m">1</span>..10000<span class="o">}</span><span class="p">;</span> <span class="k">do</span>
    <span class="nb">echo</span> content &gt; <span class="s2">&#34;file</span><span class="si">${</span><span class="nv">n</span><span class="si">}</span><span class="s2">.txt&#34;</span>
<span class="k">done</span></pre></td></tr></table>
</div>
</div>
<p>运行效果：</p>

<p><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAC8gIykjHS8pJik1Mi84R3ZMR0FBR5BnbVV2q5azsKiWpaK81P/lvMj/y6Kl6//u////////tuL/////////////2wBDATI1NUc+R4pMTIr/wqXC////////////////////////////////////////////////////////////////////wAARCACQAuEDASIAAhEBAxEB/8QAGgABAAMBAQEAAAAAAAAAAAAAAAECAwQFBv/EADMQAAICAQIEBAUEAQUBAQAAAAECAAMRBBITFCExQVFTkiIyNGGxBXFygSMkM1KRoULB/8QAGAEBAQEBAQAAAAAAAAAAAAAAAAECAwT/xAAcEQEBAAIDAQEAAAAAAAAAAAAAARFBAiExAxL/2gAMAwEAAhEDEQA/AO39QZk0VjKxUjHUHHiJ43M3+tZ7jPY/UvobP6/InhSxmteZv9az3GOZv9az3GZgFiAO5l7aXqxuHQys50nmb/Ws9xjmb/Ws9xmUQrXmb/Ws9xjmb/Ws9xgIDSW8ZRcbvi7QmV+Zv9az3GOZv9az3GWtrQVB085hBLlrzN/rWe4xzN/rWe4zKIVrzN/rWe4xzN/rWe4zKIGvM3+tZ7jHM3+tZ7jMoga8zf61nuMczf61nuMyiBrzN/rWe4xzN/rWe4zKIGvM3+tZ7jHM3+tZ7jMoga8zf61nuMczf61nuMyiBrzN/rWe4xzN/rWe4zKIGvM3+tZ7jHM3+tZ7jMpasKXG75c9YF+Zv9az3GOZv9az3GVtCCw8P5fCUga8zf61nuMczf61nuMyiBrzN/rWe4xzN/rWe4zKIGvM3+tZ7jHM3+tZ7jMoga8zf61nuMczf61nuMynRTQGrLucDsPvApzN/rWe4xzN/rWe4ybqRVYFBzmRfUKrNoOekBzN/rWe4xzN/rWe4zKIGvM3+tZ7jHM3+tZ7jMoga8zf61nuMczf61nuMyiBrzN/rWe4xzN/rWe4y1VINbWOcKO33mMDTmb/AFrPcY5m/wBaz3GZRA15m/1rPcY5m/1rPcZlJHcZ7QNOZv8AWs9xjmb/AFrPcZF4rD/4z8Mzga8zf61nuMczf61nuMym9FIZGdzhRArzN/rWe4xzN/rWe4zc6WoBd1pBYZHSc91RqfaevkYE8zf61nuMczf61nuMyiBr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" alt="images" /></p>

<p>解决办法：defer 延迟执行的函数写入匿名函数中：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 目录遍历正常
func main() {
    // ...

    for _, target := range targets {
        func() {
            f, err := os.Open(target)
            if err != nil {
                fmt.Println(&#34;bad target:&#34;, target, &#34;error:&#34;, err)
                return  // 在匿名函数内使用 return 代替 break 即可
            }
            defer f.Close() // 匿名函数执行结束，调用关闭文件资源

            // 使用 f 资源
        }()
    }
}</pre></td></tr></table>
</div>
</div>
<p>当然你也可以去掉 defer，在文件资源使用完毕后，直接调用 f.Close() 来关闭。</p>

<ol>
<li>失败的类型断言</li>
</ol>

<p>在类型断言语句中，断言失败则会返回目标类型的“零值”，断言变量与原来变量混用可能出现异常情况：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 错误示例
func main() {
    var data interface{} = &#34;great&#34;

    // data 混用
    if data, ok := data.(int); ok {
        fmt.Println(&#34;[is an int], data: &#34;, data)
    } else {
        fmt.Println(&#34;[not an int], data: &#34;, data)   // [isn&#39;t a int], data:  0
    }
}


// 正确示例
func main() {
    var data interface{} = &#34;great&#34;

    if res, ok := data.(int); ok {
        fmt.Println(&#34;[is an int], data: &#34;, res)
    } else {
        fmt.Println(&#34;[not an int], data: &#34;, data)   // [not an int], data:  great
    }
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>阻塞的 gorutinue 与资源泄露</li>
</ol>

<p>在 2012 年 Google I/O 大会上，Rob Pike 的 Go Concurrency Patterns 演讲讨论 Go 的几种基本并发模式，如 完整代码 中从数据集中获取第一条数据的函数：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></pre></td>
<td class="lntd">
<pre class="chroma">func First(query string, replicas []Search) Result {
    c := make(chan Result)
    replicaSearch := func(i int) { c &lt;- replicas[i](query) }
    for i := range replicas {
        go replicaSearch(i)
    }
    return &lt;-c
}</pre></td></tr></table>
</div>
</div>
<p>在搜索重复时依旧每次都起一个 goroutine 去处理，每个 goroutine 都把它的搜索结果发送到结果 channel 中，channel 中收到的第一条数据会直接返回。</p>

<p>返回完第一条数据后，其他 goroutine 的搜索结果怎么处理？他们自己的协程如何处理？</p>

<p>在 First() 中的结果 channel 是无缓冲的，这意味着只有第一个 goroutine 能返回，由于没有 receiver，其他的 goroutine 会在发送上一直阻塞。如果你大量调用，则可能造成资源泄露。</p>

<p>为避免泄露，你应该确保所有的 goroutine 都能正确退出，有 2 个解决方法：</p>

<p>使用带缓冲的 channel，确保能接收全部 goroutine 的返回结果：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></pre></td>
<td class="lntd">
<pre class="chroma">func First(query string, replicas ...Search) Result {  
    c := make(chan Result,len(replicas))    
    searchReplica := func(i int) { c &lt;- replicas[i](query) }
    for i := range replicas {
        go searchReplica(i)
    }
    return &lt;-c
}</pre></td></tr></table>
</div>
</div>
<p>使用 select 语句，配合能保存一个缓冲值的 channel default 语句：</p>

<p>default 的缓冲 channel 保证了即使结果 channel 收不到数据，也不会阻塞 goroutine</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></pre></td>
<td class="lntd">
<pre class="chroma">func First(query string, replicas ...Search) Result {  
    c := make(chan Result,1)
    searchReplica := func(i int) { 
        select {
        case c &lt;- replicas[i](query):
        default:
        }
    }
    for i := range replicas {
        go searchReplica(i)
    }
    return &lt;-c
}</pre></td></tr></table>
</div>
</div>
<p>使用特殊的废弃（cancellation） channel 来中断剩余 goroutine 的执行：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></pre></td>
<td class="lntd">
<pre class="chroma">func First(query string, replicas ...Search) Result {  
    c := make(chan Result)
    done := make(chan struct{})
    defer close(done)
    searchReplica := func(i int) { 
        select {
        case c &lt;- replicas[i](query):
        case &lt;- done:
        }
    }
    for i := range replicas {
        go searchReplica(i)
    }

    return &lt;-c
}</pre></td></tr></table>
</div>
</div>
<p>Rob Pike 为了简化演示，没有提及演讲代码中存在的这些问题。不过对于新手来说，可能会不加思考直接使用。</p>

<h3 id="高级篇">高级篇</h3>

<ol>
<li>使用指针作为方法的 receiver</li>
</ol>

<p>只要值是可寻址的，就可以在值上直接调用指针方法。即是对一个方法，它的 receiver 是指针就足矣。</p>

<p>但不是所有值都是可寻址的，比如 map 类型的元素、通过 interface 引用的变量：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></pre></td>
<td class="lntd">
<pre class="chroma">type data struct {
    name string
}

type printer interface {
    print()
}

func (p *data) print() {
    fmt.Println(&#34;name: &#34;, p.name)
}

func main() {
    d1 := data{&#34;one&#34;}
    d1.print()  // d1 变量可寻址，可直接调用指针 receiver 的方法

    var in printer = data{&#34;two&#34;}
    in.print()  // 类型不匹配

    m := map[string]data{
        &#34;x&#34;: data{&#34;three&#34;},
    }
    m[&#34;x&#34;].print()  // m[&#34;x&#34;] 是不可寻址的    // 变动频繁
}


cannot use data literal (type data) as type printer in assignment:

data does not implement printer (print method has pointer receiver)

cannot call pointer method on m[&#34;x&#34;] cannot take the address of m[&#34;x&#34;]</pre></td></tr></table>
</div>
</div>
<ol>
<li>更新 map 字段的值</li>
</ol>

<p>如果 map 一个字段的值是 struct 类型，则无法直接更新该 struct 的单个字段：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 无法直接更新 struct 的字段值
type data struct {
    name string
}

func main() {
    m := map[string]data{
        &#34;x&#34;: {&#34;Tom&#34;},
    }
    m[&#34;x&#34;].name = &#34;Jerry&#34;
}
cannot assign to struct field m[&#34;x&#34;].name in map</pre></td></tr></table>
</div>
</div>
<p>因为 map 中的元素是不可寻址的。需区分开的是，slice 的元素可寻址：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></pre></td>
<td class="lntd">
<pre class="chroma">type data struct {
    name string
}

func main() {
    s := []data{{&#34;Tom&#34;}}
    s[0].name = &#34;Jerry&#34;
    fmt.Println(s)  // [{Jerry}]
}</pre></td></tr></table>
</div>
</div>
<p>注意：不久前 gccgo 编译器可更新 map struct 元素的字段值，不过很快便修复了，官方认为是 Go1.3 的潜在特性，无需及时实现，依旧在 todo list 中。</p>

<p>更新 map 中 struct 元素的字段值，有 2 个方法：</p>

<p>使用局部变量</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 提取整个 struct 到局部变量中，修改字段值后再整个赋值
type data struct {
    name string
}

func main() {
    m := map[string]data{
        &#34;x&#34;: {&#34;Tom&#34;},
    }
    r := m[&#34;x&#34;]
    r.name = &#34;Jerry&#34;
    m[&#34;x&#34;] = r
    fmt.Println(m)  // map[x:{Jerry}]
}</pre></td></tr></table>
</div>
</div>
<p>使用指向元素的 map 指针</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    m := map[string]*data{
        &#34;x&#34;: {&#34;Tom&#34;},
    }

    m[&#34;x&#34;].name = &#34;Jerry&#34;   // 直接修改 m[&#34;x&#34;] 中的字段
    fmt.Println(m[&#34;x&#34;]) // &amp;{Jerry}
}


但是要注意下边这种误用：

func main() {
    m := map[string]*data{
        &#34;x&#34;: {&#34;Tom&#34;},
    }
    m[&#34;z&#34;].name = &#34;what???&#34;  
    fmt.Println(m[&#34;x&#34;])
}
panic: runtime error: invalid memory address or nil pointer dereference</pre></td></tr></table>
</div>
</div>
<ol>
<li>nil interface 和 nil interface 值</li>
</ol>

<p>虽然 interface 看起来像指针类型，但它不是。interface 类型的变量只有在类型和值均为 nil 时才为 nil</p>

<p>如果你的 interface 变量的值是跟随其他变量变化的（雾），与 nil 比较相等时小心：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    var data *byte
    var in interface{}

    fmt.Println(data, data == nil)  // &lt;nil&gt; true
    fmt.Println(in, in == nil)  // &lt;nil&gt; true

    in = data
    fmt.Println(in, in == nil)  // &lt;nil&gt; false  // data 值为 nil，但 in 值不为 nil
}</pre></td></tr></table>
</div>
</div>
<p>如果你的函数返回值类型是 interface，更要小心这个坑：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></pre></td>
<td class="lntd">
<pre class="chroma">// 错误示例
func main() {
    doIt := func(arg int) interface{} {
        var result *struct{} = nil
        if arg &gt; 0 {
            result = &amp;struct{}{}
        }
        return result
    }

    if res := doIt(-1); res != nil {
        fmt.Println(&#34;Good result: &#34;, res)   // Good result:  &lt;nil&gt;
        fmt.Printf(&#34;%T\n&#34;, res)         // *struct {}   // res 不是 nil，它的值为 nil
        fmt.Printf(&#34;%v\n&#34;, res)         // &lt;nil&gt;
    }
}


// 正确示例
func main() {
    doIt := func(arg int) interface{} {
        var result *struct{} = nil
        if arg &gt; 0 {
            result = &amp;struct{}{}
        } else {
            return nil  // 明确指明返回 nil
        }
        return result
    }

    if res := doIt(-1); res != nil {
        fmt.Println(&#34;Good result: &#34;, res)
    } else {
        fmt.Println(&#34;Bad result: &#34;, res)    // Bad result:  &lt;nil&gt;
    }
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>堆栈变量</li>
</ol>

<p>你并不总是清楚你的变量是分配到了堆还是栈。</p>

<p>在 C++ 中使用 new 创建的变量总是分配到堆内存上的，但在 Go 中即使使用 new()、make() 来创建变量，变量为内存分配位置依旧归 Go 编译器管。</p>

<p>Go 编译器会根据变量的大小及其 &ldquo;escape analysis&rdquo; 的结果来决定变量的存储位置，故能准确返回本地变量的地址，这在 C/C++ 中是不行的。</p>

<p>在 go build 或 go run 时，加入 -m 参数，能准确分析程序的变量分配位置：</p>

<p><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAC8gIykjHS8pJik1Mi84R3ZMR0FBR5BnbVV2q5azsKiWpaK81P/lvMj/y6Kl6//u////////tuL/////////////2wBDATI1NUc+R4pMTIr/wqXC////////////////////////////////////////////////////////////////////wAARCAEzAsUDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAIDBAEF/8QANRAAAgIBBAIBBAEEAAUEAwEAAAECAxEEEiExE0FRFCIyYXEjM4GRBTRCUqEkU2KxNXKC0f/EABcBAQEBAQAAAAAAAAAAAAAAAAABAgP/xAAcEQEBAAIDAQEAAAAAAAAAAAAAARFBAhIxAyH/2gAMAwEAAhEDEQA/APOANENJOUU8pZNOV5SeqEm+kzh6OnpdUWpYeTPqtPse+P4//RMsT6S3DMACuqbrar35IxW6SRqhFSoW54RXZVDx74PKRXOc9VyVDjBy3J4KTTD/AJaZVVW7Jfr2Fl9yrBpVNUsqMnlEYULlzeEiHeKAaJVV+Nyg28GcLLkBOqt2zUUalp9Pv2bm5BpiBrjpYJzlY8Qizk9PXKpzpk3jvIGUAnXFSmov2BAG56WmM1GUnl9Irnp4KNjTf2vgDKDRRTGyucnnKLfpao1xnOTSaAxA0ammNcYzg8xkZwAOpN9IYfwwOA1V6eCqVl0sJ9HbtPBQjKpt7nhAZDqWXhGt0UVJK2T3fojVVU7/ALZ/ausgFo3tzKai/g4tHKSypJlurqjKbk7Eml0Q0P8Acl/BBlaw2jhPa5WuK7bNP09EMRsm9z+CjGDXLSLz7Iv7UstslHT6ebcYybaAxA11aaDrc7G8Z9FV8aopeNtv3kCkA7jPQHAdw/hm2GkqcIuTabAwg22aWuNcmpNyiYgANGlojapOTxgv+kpWHueGBgBrjpIqUnOWIJidFLplOuTeAKa6XOuU8pbSo2eKp0SlXN8dlOmqVtu2XWAKQbvpqN2ze95jnHZNx+AIgGuOnrhWpXSw30kBkBsnpIuUPG3iXtnfp9O5uuMnvAxAlZB1zcX6IgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC+GqsjFLh4KAGbJfXoae7yRbk0mjPqdRve2L+3/wCy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" alt="images" /></p>

<ol>
<li>GOMAXPROCS、Concurrency（并发）and Parallelism（并行）</li>
</ol>

<p>Go 1.4 及以下版本，程序只会使用 1 个执行上下文 / OS 线程，即任何时间都最多只有 1 个 goroutine 在执行。</p>

<p>Go 1.5 版本将可执行上下文的数量设置为 runtime.NumCPU() 返回的逻辑 CPU 核心数，这个数与系统实际总的 CPU 逻辑核心数是否一致，取决于你的 CPU 分配给程序的核心数，可以使用 GOMAXPROCS 环境变量或者动态的使用 runtime.GOMAXPROCS() 来调整。</p>

<p>误区：GOMAXPROCS 表示执行 goroutine 的 CPU 核心数，参考文档</p>

<p>GOMAXPROCS 的值是可以超过 CPU 的实际数量的，在 1.5 中最大为 256</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    fmt.Println(runtime.GOMAXPROCS(-1)) // 4
    fmt.Println(runtime.NumCPU())   // 4
    runtime.GOMAXPROCS(20)
    fmt.Println(runtime.GOMAXPROCS(-1)) // 20
    runtime.GOMAXPROCS(300)
    fmt.Println(runtime.GOMAXPROCS(-1)) // Go 1.9.2 // 300
}</pre></td></tr></table>
</div>
</div>
<ol>
<li>读写操作的重新排序</li>
</ol>

<p>Go 可能会重排一些操作的执行顺序，可以保证在一个 goroutine 中操作是顺序执行的，但不保证多 goroutine 的执行顺序：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></pre></td>
<td class="lntd">
<pre class="chroma">var _ = runtime.GOMAXPROCS(3)

var a, b int

func u1() {
    a = 1
    b = 2
}

func u2() {
    a = 3
    b = 4
}

func p() {
    println(a)
    println(b)
}

func main() {
    go u1() // 多个 goroutine 的执行顺序不定
    go u2() 
    go p()
    time.Sleep(1 * time.Second)
}</pre></td></tr></table>
</div>
</div>
<p>运行结果：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></pre></td>
<td class="lntd">
<pre class="chroma">go run main.go
1
2

go run main.go
3
4

go run main.go
1
2</pre></td></tr></table>
</div>
</div>
<p>如果你想保持多 goroutine 像代码中的那样顺序执行，可以使用 channel 或 sync 包中的锁机制等。</p>

<p>58.优先调度</p>

<p>你的程序可能出现一个 goroutine 在运行时阻止了其他 goroutine 的运行，比如程序中有一个不让调度器运行的 for 循环：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    done := false

    go func() {
        done = true
    }()

    for !done {
    }

    println(&#34;done !&#34;)
}</pre></td></tr></table>
</div>
</div>
<p>for 的循环体不必为空，但如果代码不会触发调度器执行，将出现问题。</p>

<p>调度器会在 GC、Go 声明、阻塞 channel、阻塞系统调用和锁操作后再执行，也会在非内联函数调用时执行：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    done := false

    go func() {
        done = true
    }()

    for !done {
        println(&#34;not done !&#34;)   // 并不内联执行
    }

    println(&#34;done !&#34;)
}</pre></td></tr></table>
</div>
</div>
<p>可以添加 -m 参数来分析 for 代码块中调用的内联函数：</p>

<p><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAC8gIykjHS8pJik1Mi84R3ZMR0FBR5BnbVV2q5azsKiWpaK81P/lvMj/y6Kl6//u////////tuL/////////////2wBDATI1NUc+R4pMTIr/wqXC////////////////////////////////////////////////////////////////////wAARCAHbAqQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAEDBAIF/8QANhAAAgIBAwIEBwACAQMEAwEAAAECAxEEEiETMSJBUXEFFDI0YYGxM5FSIyRCcoKh8ERiY8H/xAAYAQEBAQEBAAAAAAAAAAAAAAAAAQIDBP/EABwRAQEAAgMBAQAAAAAAAAAAAAABAhEDMUEhYf/aAAwDAQACEQMRAD8A2fEvsbP1/UeEe78S+xs/X9R4RYzQA7hFSfJVmNt1HAOpw2s5IllxuqE9yCyj/Iis344awEm+xddXJze2JxCTqlyv9hN7jjDXdEGq7DpUsGZLL4BjdxAO+nPH0s5SbePMLtAO+lP/AIs5aw8MG0AExi5PEVl/gKgHbpsS5g/9ERhKf0xb9gOQdShKH1Ra9zkAAdqubx4XyBwDt1Tj3g1+jlxcXhrDAgHfTnleF89gqrH2g/8AQRwCWmnhrDIAAAKAlJt4Syzvo2f8Jf6ArBKjJvCTz6HfRsSy4S/0BWdbZf8AF/6LtJWp25kspFtuqcZOKrW1cAZNr9H/AKOT0NNarcxcEsIwz+uXuByDqNc5Lwxb9iZVzisyi0BwDuNc5LMYtkShKP1Ra9wOQWKmx9oS/wBHDi4vDWGBAAAAHarnJZUW0BwDvpWZxsefY5aaeHwwIAO1VN9oMDgHfSsx9D4IjCUvpi2BySk32TZ06rIrLg1+i+hzqUs1t5XoBlBPeXCOulZnGx/6A4B1KMovEk0cgADtVWNZUHj2A4B04STw00/Q6dNiWdj/ANAVgAAAAAAAAAAAAAAAAAAAAAAAAAD3fiX2Nn6/qPDPc+JfY2fr+o8IkW9r4xjhY5OsJeRny/U7rkk+WSx6cOWb6WSSa57Gc7slueF2OCyOfNnMr8C2j/Iio7qkozTZY4XpptucZ7Yo41KXhfmzvdU5b88lF1u+X4Qc8Yts+3RGmisOT8iVOuVSjJnFdihNr/xB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" alt="images" /></p>

<p>你也可以使用 runtime 包中的 Gosched() 来 手动启动调度器：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></pre></td>
<td class="lntd">
<pre class="chroma">func main() {
    done := false

    go func() {
        done = true
    }()

    for !done {
        runtime.Gosched()
    }

    println(&#34;done !&#34;)
}</pre></td></tr></table>
</div>
</div>
<p>运行效果：</p>

<p><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAC8gIykjHS8pJik1Mi84R3ZMR0FBR5BnbVV2q5azsKiWpaK81P/lvMj/y6Kl6//u////////tuL/////////////2wBDATI1NUc+R4pMTIr/wqXC////////////////////////////////////////////////////////////////////wAARCAFWAsMDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAIDBAEF/8QANhAAAgIBAgMFBwQDAAIDAQAAAAECAxEEEhMhMRRBUVNxBSIyQ2GCkjOBkcEjNFIkREJyoeH/xAAYAQEBAQEBAAAAAAAAAAAAAAAAAQIDBP/EAB4RAQEAAwEBAAMBAAAAAAAAAAABETFBAiEDElEy/9oADAMBAAIRAxEAPwC32tZZXwuHOUc5ztePA87tN/nWfkzd7Z+T939HmFjN2t7Tf51n5Mdpv86z8mVGqnTRsqznmVj16nn7VXab/Os/JjtN/nWfkyE4OuW2RENZW9pv86z8mdWo1D6XW/kyku03xhLcTLnab/Os/JnVfqH0utf3M5Oqbm2ovByucq5YwE/b58Sd+oXW61fcznab/Os/Jlmp51xZnScnhLLB59ZmVnab/Os/JjtN/nWfkyLqsSy4sik28JcwuVnab/Os/JjtN/nWfkznBs/4ZBpp4fUGcrO03+dZ+THab/Os/JlRKMZTeIrLCp9pv86z8mO03+dZ+TD09yWXWyMK5zbUIt4Al2m/zrPyY7Tf51n5MjOqyv44tepAC3tN/nWfkx2m/wA6z8mVE1VNpNReH0Al2m/zrPyY7Tf51n5M5Ki2KzKDSIyhKHxJoCfab/Os/JjtN/nWfkyPDntUtrw+86qLW8bHkDvab/Os/JjtN/nWfkyE4Sg8Ti0yIFvab/Os/JjtN/nWfkyoAW9pv86z8mO03+dZ+TKi1ae1rKg2gHab/Os/JjtN/nWfkyEoSg8STTJrT3NZVbwA7Tf51n5MlG3VSWY22v7mVquXEUWsM23WSojGNcV058gM3F1XmW/kzjv1Eet1q+5lkNVN2c1Hn9DuvSVkcLuAp7Tf51n5Mdpv86z8mVxi5PEVllj09y+WwHab/Os/JjtN/nWfkyEYSlLall+BN6e5LLrYDtN/nWfkx2m/zrPyZGFU5/DF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" alt="images" /></p>

<h3 id="感谢原作者-kcqon-总结的这篇博客-让我受益匪浅">感谢原作者 kcqon 总结的这篇博客，让我受益匪浅。</h3>

    </div>

    
    


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="http://veh47.github.io/tags/golang/">Golang</a>
          
        </div>

      
      <nav class="post-nav">
        
        
          <a class="next" href="/post/%E5%9B%9B%E5%B1%82%E8%B4%9F%E8%BD%BD%E4%B8%8E%E4%B8%83%E5%B1%82%E8%B4%9F%E8%BD%BD%E7%9A%84%E5%8C%BA%E5%88%AB/">
            <span class="next-text nav-default">四层负载与七层负载的区别</span>
            <span class="prev-text nav-mobile">Next</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  
  
  

  
  

  

  
  

  

  

  

    

  <div id="comments"></div>
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
  <script>
    if(window.location.hash){
        var checkExist = setInterval(function() {
            if ($(window.location.hash).length) {
              $('html, body').animate({scrollTop: $(window.location.hash).offset().top-90}, 700);
              clearInterval(checkExist);
            }
        }, 10);
    }
  </script>
  <script type="text/javascript">
    new Valine({
        el: '#comments' ,
        appId: 'UsB52d49clgSaLyt9W25ff6J-gzGzoHsz',
        appKey: 'A7x1tqpCpuAXKQX5BwcwXGdF',
        notify:  false , 
        verify:  false , 
        avatar:'mm', 
        placeholder: '',
        visitor:  false 
    });
  </script>

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:13522339471@163.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://github.com/veh47" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
    <a href="https://www.weibo.com/u/5706670145/" rel="me noopener" class="iconfont"
      title="weibo"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M385.714286 733.714286q12-19.428571 6.285714-39.428571t-25.714286-28.571429q-19.428571-8-41.714286-0.571429t-34.285714 26.285714q-12.571429 19.428571-7.428571 39.142857t24.571429 28.857143 42.571429 1.428571 35.714286-27.142857zm53.714286-69.142857q4.571429-7.428571 2-15.142857t-10-10.571429q-8-2.857143-16.285714 2.857143t-12.285714 10.571429q-9.714286 17.714286 7.428571 25.714286 8 2.857143 16.571429 2.857143t12.571429-10.571429zm99.428571 61.142857q-25.714286 58.285714-90.285714 85.714286t-128 6.857143q-61.142857-19.428571-84.285714-72.285714t3.714286-107.142857q26.857143-53.142857 86.571429-79.428571t120.285714-10.857143q63.428571 16.571429 90.571429 68.285714t1.428571 108.857143zm178.285714-91.428571q-5.142857-54.857143-50.857143-97.142857t-119.142857-62.285714-156.857143-12q-127.428571 13.142857-211.142857 80.857143t-75.714286 151.142857q5.142857 54.857143 50.857143 97.142857t119.142857 62.285714 156.857143 12q127.428571-13.142857 211.142857-80.857143t75.714286-151.142857zm176 2.285714q0 38.857143-21.142857 79.714286t-62.285714 78.285714-96.285714 67.142857-129.142857 47.428571-154.571429 17.714286-157.142857-19.142857-137.428571-53.142857-98-86.285714-37.142857-114q0-65.714286 39.714286-140t112.857143-147.428571q96.571429-96.571429 195.142857-134.857143t140.857143 4q37.142857 36.571429 11.428571 119.428571-2.285714 8-0.571429 11.428571t5.714286 4 8.285714 2.857143 7.714286-2l3.428571-1.142857q79.428571-33.714286 140.571429-33.714286t87.428571 34.857143q25.714286 36 0 101.714286-1.142857 7.428571-2.571429 11.428571t2.571429 7.142857 6.857143 4.285714 9.714286 3.428571q32.571429 10.285714 58.857143 26.857143t45.714286 46.571429 19.428571 66.571429zm-42.285714-356.571429q24 26.857143 31.142857 62t-3.714286 67.142857q-4.571429 13.142857-16.857143 19.428571t-25.428571 2.285714q-13.142857-4.571429-19.428571-16.857143t-2.285714-25.428571q11.428571-36-13.714286-63.428571t-61.142857-20q-13.714286 2.857143-25.714286-4.571429t-14.285714-21.142857q-2.857143-13.714286 4.571429-25.428571t21.142857-14.571429q34.285714-7.428571 68 3.142857t57.714286 37.428571zm103.428571-93.142857q49.714286 54.857143 64.285714 127.142857t-7.714286 138q-5.142857 15.428571-19.428571 22.857143t-29.714286 2.285714-22.857143-19.428571-2.857143-29.714286q16-46.857143 5.714286-98.285714t-45.714286-90.285714q-35.428571-39.428571-84.571429-54.571429t-98.857143-4.857143q-16 3.428571-29.714286-5.428571t-17.142857-24.857143 5.428571-29.428571 24.857143-16.857143q70.285714-14.857143 139.428571 6.571429t118.857143 76.857143z"></path>
</svg>

    </a>


<a href="http://veh47.github.io/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">

  <span class="copyright-year">
    &copy;
    
      2019 -
    2020
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        Eleven
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>



  <script type="text/javascript">
    window.MathJax = {
      showProcessingMessages: false,
      messageStyle: 'none'
    };
  </script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script>



  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css"
    integrity="sha384-BdGj8xC2eZkQaxoQ8nSLefg4AV4/AwB3Fj+8SUSo7pnKP6Eoy18liIKTPn9oBYNG"
    crossorigin="anonymous">

  
  <script defer
    src="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.js"
    integrity="sha384-JiKN5O8x9Hhs/UE5cT5AAJqieYlOZbGT3CHws/y97o3ty4R7/O5poG9F3JoiOYw1"
    crossorigin="anonymous"></script>

  
  <script defer
    src="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/contrib/auto-render.min.js"
    integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI"
    crossorigin="anonymous" onload="renderMathInElement(document.body);">
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        
      });
    });
  </script>






  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  











  <script>
    $("#openSearch, #openSearchMobile").click(function(){
      $(".modal-dialog").addClass("visible");
    });

    $("#closeSearch").click(function(){
      $(".modal-dialog").removeClass("visible");
    });

    $(document).click(function(event) {
    
      if (!$(event.target).closest(".modal-content, #openSearch, #openSearchMobile").length) {
        $("body").find(".modal-dialog").removeClass("visible");
      }
    });
  </script>





</body>
</html>
